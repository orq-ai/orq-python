"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from orq_ai_sdk.types import BaseModel, UNSET_SENTINEL
from orq_ai_sdk.utils import FieldMetadata, PathParamMetadata
import pydantic
from pydantic import model_serializer
from typing import Dict, Optional
from typing_extensions import Annotated, NotRequired, TypedDict


class RetrieveMemoryDocumentRequestTypedDict(TypedDict):
    memory_store_key: str
    r"""The unique key identifier of the memory store"""
    memory_entity_id: str
    r"""The unique identifier of the memory"""
    document_id: str
    r"""The unique identifier of the document"""


class RetrieveMemoryDocumentRequest(BaseModel):
    memory_store_key: Annotated[
        str, FieldMetadata(path=PathParamMetadata(style="simple", explode=False))
    ]
    r"""The unique key identifier of the memory store"""

    memory_entity_id: Annotated[
        str, FieldMetadata(path=PathParamMetadata(style="simple", explode=False))
    ]
    r"""The unique identifier of the memory"""

    document_id: Annotated[
        str, FieldMetadata(path=PathParamMetadata(style="simple", explode=False))
    ]
    r"""The unique identifier of the document"""


class RetrieveMemoryDocumentResponseBodyTypedDict(TypedDict):
    r"""Memory document successfully retrieved."""

    id: str
    memory_id: str
    store_id: str
    text: str
    r"""The content of the memory document (whitespace trimmed)."""
    created: str
    updated: str
    workspace_id: str
    created_by_id: NotRequired[str]
    updated_by_id: NotRequired[str]
    metadata: NotRequired[Dict[str, str]]
    r"""Flexible key-value pairs for custom filtering and categorization. Clients can add arbitrary string metadata to enable future filtering of memory documents based on their specific needs (e.g., document type, source, topic, relevance score, or any custom taxonomy)."""


class RetrieveMemoryDocumentResponseBody(BaseModel):
    r"""Memory document successfully retrieved."""

    id: Annotated[str, pydantic.Field(alias="_id")]

    memory_id: str

    store_id: str

    text: str
    r"""The content of the memory document (whitespace trimmed)."""

    created: str

    updated: str

    workspace_id: str

    created_by_id: Optional[str] = None

    updated_by_id: Optional[str] = None

    metadata: Optional[Dict[str, str]] = None
    r"""Flexible key-value pairs for custom filtering and categorization. Clients can add arbitrary string metadata to enable future filtering of memory documents based on their specific needs (e.g., document type, source, topic, relevance score, or any custom taxonomy)."""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(["created_by_id", "updated_by_id", "metadata"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m


try:
    RetrieveMemoryDocumentResponseBody.model_rebuild()
except NameError:
    pass
