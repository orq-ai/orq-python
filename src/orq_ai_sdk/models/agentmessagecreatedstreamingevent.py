"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .datapart import DataPart, DataPartTypedDict
from .filepart import FilePart, FilePartTypedDict
from .textpart import TextPart, TextPartTypedDict
from .toolcallpart import ToolCallPart, ToolCallPartTypedDict
from .toolresultpart import ToolResultPart, ToolResultPartTypedDict
from orq_ai_sdk.types import BaseModel
from orq_ai_sdk.utils import get_discriminator
import pydantic
from pydantic import Discriminator, Tag
from typing import Any, Dict, List, Literal, Optional, Union
from typing_extensions import Annotated, NotRequired, TypeAliasType, TypedDict


AgentMessageCreatedStreamingEventType = Literal["event.agents.message-created",]


AgentMessageCreatedStreamingEventRole = Literal[
    "user",
    "tool",
]


AgentMessageCreatedStreamingEventPartsTypedDict = TypeAliasType(
    "AgentMessageCreatedStreamingEventPartsTypedDict",
    Union[
        TextPartTypedDict,
        DataPartTypedDict,
        FilePartTypedDict,
        ToolResultPartTypedDict,
        ToolCallPartTypedDict,
    ],
)


AgentMessageCreatedStreamingEventParts = Annotated[
    Union[
        Annotated[TextPart, Tag("text")],
        Annotated[DataPart, Tag("data")],
        Annotated[FilePart, Tag("file")],
        Annotated[ToolCallPart, Tag("tool_call")],
        Annotated[ToolResultPart, Tag("tool_result")],
    ],
    Discriminator(lambda m: get_discriminator(m, "kind", "kind")),
]


class MessageTypedDict(TypedDict):
    role: AgentMessageCreatedStreamingEventRole
    parts: List[AgentMessageCreatedStreamingEventPartsTypedDict]
    message_id: NotRequired[str]
    metadata: NotRequired[Dict[str, Any]]


class Message(BaseModel):
    role: AgentMessageCreatedStreamingEventRole

    parts: List[AgentMessageCreatedStreamingEventParts]

    message_id: Annotated[Optional[str], pydantic.Field(alias="messageId")] = None

    metadata: Optional[Dict[str, Any]] = None


class AgentMessageCreatedStreamingEventDataTypedDict(TypedDict):
    workflow_run_id: str
    span_id: str
    parent_id: str
    message: List[MessageTypedDict]


class AgentMessageCreatedStreamingEventData(BaseModel):
    workflow_run_id: Annotated[str, pydantic.Field(alias="workflowRunId")]

    span_id: Annotated[str, pydantic.Field(alias="spanId")]

    parent_id: Annotated[str, pydantic.Field(alias="parentId")]

    message: List[Message]


class AgentMessageCreatedStreamingEventTypedDict(TypedDict):
    r"""Emitted when a new message is added to the conversation. Contains the message content, workflow run ID, and span context for tracing."""

    type: AgentMessageCreatedStreamingEventType
    timestamp: str
    r"""ISO timestamp of the event"""
    data: AgentMessageCreatedStreamingEventDataTypedDict


class AgentMessageCreatedStreamingEvent(BaseModel):
    r"""Emitted when a new message is added to the conversation. Contains the message content, workflow run ID, and span context for tracing."""

    type: AgentMessageCreatedStreamingEventType

    timestamp: str
    r"""ISO timestamp of the event"""

    data: AgentMessageCreatedStreamingEventData
