"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .errorpart import ErrorPart, ErrorPartTypedDict
from .filepart import FilePart, FilePartTypedDict
from .textpart import TextPart, TextPartTypedDict
from .toolresultpart import ToolResultPart, ToolResultPartTypedDict
from orq_ai_sdk.types import BaseModel
from orq_ai_sdk.utils import get_discriminator
import pydantic
from pydantic import Discriminator, Tag
from typing import List, Literal, Union
from typing_extensions import Annotated, TypeAliasType, TypedDict


PublicMessagePartTypedDict = TypeAliasType(
    "PublicMessagePartTypedDict",
    Union[
        TextPartTypedDict,
        FilePartTypedDict,
        ErrorPartTypedDict,
        ToolResultPartTypedDict,
    ],
)
r"""Message part that can be provided by users. Use \"text\" for regular messages, \"file\" for attachments, or \"tool_result\" when responding to tool call requests."""


PublicMessagePart = Annotated[
    Union[
        Annotated[TextPart, Tag("text")],
        Annotated[FilePart, Tag("file")],
        Annotated[ToolResultPart, Tag("tool_result")],
        Annotated[ErrorPart, Tag("error")],
    ],
    Discriminator(lambda m: get_discriminator(m, "kind", "kind")),
]
r"""Message part that can be provided by users. Use \"text\" for regular messages, \"file\" for attachments, or \"tool_result\" when responding to tool call requests."""


MessageResponseRole = Literal[
    "user",
    "assistant",
]
r"""Message author role. `user` for end-user messages, `assistant` for AI-generated responses."""


class MessageResponseTypedDict(TypedDict):
    id: str
    r"""Unique message identifier with `msg_` prefix."""
    conversation_id: str
    r"""Conversation identifier this message belongs to."""
    created_at: float
    r"""Unix timestamp in milliseconds when the message was created."""
    created_by_id: str
    r"""Identifier of the message author. User ID for user messages, \"system\" for assistant messages."""
    parts: List[PublicMessagePartTypedDict]
    r"""Content parts composing the message. Supports multiple content types (text, images, files, tool results)."""
    role: MessageResponseRole
    r"""Message author role. `user` for end-user messages, `assistant` for AI-generated responses."""


class MessageResponse(BaseModel):
    id: Annotated[str, pydantic.Field(alias="_id")]
    r"""Unique message identifier with `msg_` prefix."""

    conversation_id: Annotated[str, pydantic.Field(alias="conversationId")]
    r"""Conversation identifier this message belongs to."""

    created_at: Annotated[float, pydantic.Field(alias="createdAt")]
    r"""Unix timestamp in milliseconds when the message was created."""

    created_by_id: Annotated[str, pydantic.Field(alias="createdById")]
    r"""Identifier of the message author. User ID for user messages, \"system\" for assistant messages."""

    parts: List[PublicMessagePart]
    r"""Content parts composing the message. Supports multiple content types (text, images, files, tool results)."""

    role: MessageResponseRole
    r"""Message author role. `user` for end-user messages, `assistant` for AI-generated responses."""
