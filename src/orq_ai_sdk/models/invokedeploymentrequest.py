"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .audiocontentpartschema import (
    AudioContentPartSchema,
    AudioContentPartSchemaTypedDict,
)
from .filecontentpartschema import FileContentPartSchema, FileContentPartSchemaTypedDict
from .imagecontentpartschema import (
    ImageContentPartSchema,
    ImageContentPartSchemaTypedDict,
)
from .reasoningpartschema import ReasoningPartSchema, ReasoningPartSchemaTypedDict
from .redactedreasoningpartschema import (
    RedactedReasoningPartSchema,
    RedactedReasoningPartSchemaTypedDict,
)
from .refusalpartschema import RefusalPartSchema, RefusalPartSchemaTypedDict
from orq_ai_sdk.types import (
    BaseModel,
    Nullable,
    OptionalNullable,
    UNSET,
    UNSET_SENTINEL,
)
from orq_ai_sdk.utils import get_discriminator
import pydantic
from pydantic import Discriminator, Tag, model_serializer
from typing import Any, Dict, List, Literal, Optional, Union
from typing_extensions import Annotated, NotRequired, TypeAliasType, TypedDict


InvokeDeploymentRequestPrefixMessages5Role = Literal["tool",]
r"""The role of the messages author, in this case tool."""


InvokeDeploymentRequest2PrefixMessages5Type = Literal["text",]


InvokeDeploymentRequest2PrefixMessages5ContentType = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


InvokeDeploymentRequest2PrefixMessages5TTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class InvokeDeploymentRequest2PrefixMessages5CacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequest2PrefixMessages5ContentType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[InvokeDeploymentRequest2PrefixMessages5TTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2PrefixMessages5CacheControl(BaseModel):
    type: InvokeDeploymentRequest2PrefixMessages5ContentType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[InvokeDeploymentRequest2PrefixMessages5TTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest21TypedDict(TypedDict):
    type: InvokeDeploymentRequest2PrefixMessages5Type
    text: str
    cache_control: NotRequired[
        InvokeDeploymentRequest2PrefixMessages5CacheControlTypedDict
    ]


class InvokeDeploymentRequest21(BaseModel):
    type: InvokeDeploymentRequest2PrefixMessages5Type

    text: str

    cache_control: Optional[InvokeDeploymentRequest2PrefixMessages5CacheControl] = None


InvokeDeploymentRequestContentPrefixMessages52TypedDict = (
    InvokeDeploymentRequest21TypedDict
)


InvokeDeploymentRequestContentPrefixMessages52 = InvokeDeploymentRequest21


InvokeDeploymentRequestPrefixMessages5ContentTypedDict = TypeAliasType(
    "InvokeDeploymentRequestPrefixMessages5ContentTypedDict",
    Union[str, List[InvokeDeploymentRequestContentPrefixMessages52TypedDict]],
)
r"""The contents of the tool message."""


InvokeDeploymentRequestPrefixMessages5Content = TypeAliasType(
    "InvokeDeploymentRequestPrefixMessages5Content",
    Union[str, List[InvokeDeploymentRequestContentPrefixMessages52]],
)
r"""The contents of the tool message."""


InvokeDeploymentRequestPrefixMessagesType = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


PrefixMessagesTTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class PrefixMessagesCacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequestPrefixMessagesType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[PrefixMessagesTTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class PrefixMessagesCacheControl(BaseModel):
    type: InvokeDeploymentRequestPrefixMessagesType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[PrefixMessagesTTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class ToolMessageTypedDict(TypedDict):
    role: InvokeDeploymentRequestPrefixMessages5Role
    r"""The role of the messages author, in this case tool."""
    content: InvokeDeploymentRequestPrefixMessages5ContentTypedDict
    r"""The contents of the tool message."""
    tool_call_id: str
    r"""Tool call that this message is responding to."""
    cache_control: NotRequired[PrefixMessagesCacheControlTypedDict]


class ToolMessage(BaseModel):
    role: InvokeDeploymentRequestPrefixMessages5Role
    r"""The role of the messages author, in this case tool."""

    content: InvokeDeploymentRequestPrefixMessages5Content
    r"""The contents of the tool message."""

    tool_call_id: str
    r"""Tool call that this message is responding to."""

    cache_control: Optional[PrefixMessagesCacheControl] = None


InvokeDeploymentRequest2PrefixMessagesType = Literal["text",]


InvokeDeploymentRequest2PrefixMessages4Type = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


InvokeDeploymentRequest2PrefixMessagesTTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class InvokeDeploymentRequest2PrefixMessagesCacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequest2PrefixMessages4Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[InvokeDeploymentRequest2PrefixMessagesTTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2PrefixMessagesCacheControl(BaseModel):
    type: InvokeDeploymentRequest2PrefixMessages4Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[InvokeDeploymentRequest2PrefixMessagesTTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class Two1TypedDict(TypedDict):
    type: InvokeDeploymentRequest2PrefixMessagesType
    text: str
    cache_control: NotRequired[
        InvokeDeploymentRequest2PrefixMessagesCacheControlTypedDict
    ]


class Two1(BaseModel):
    type: InvokeDeploymentRequest2PrefixMessagesType

    text: str

    cache_control: Optional[InvokeDeploymentRequest2PrefixMessagesCacheControl] = None


InvokeDeploymentRequestContentPrefixMessages2TypedDict = TypeAliasType(
    "InvokeDeploymentRequestContentPrefixMessages2TypedDict",
    Union[
        RefusalPartSchemaTypedDict,
        RedactedReasoningPartSchemaTypedDict,
        Two1TypedDict,
        ReasoningPartSchemaTypedDict,
    ],
)


InvokeDeploymentRequestContentPrefixMessages2 = Annotated[
    Union[
        Annotated[Two1, Tag("text")],
        Annotated[RefusalPartSchema, Tag("refusal")],
        Annotated[ReasoningPartSchema, Tag("reasoning")],
        Annotated[RedactedReasoningPartSchema, Tag("redacted_reasoning")],
    ],
    Discriminator(lambda m: get_discriminator(m, "type", "type")),
]


InvokeDeploymentRequestPrefixMessages4ContentTypedDict = TypeAliasType(
    "InvokeDeploymentRequestPrefixMessages4ContentTypedDict",
    Union[str, List[InvokeDeploymentRequestContentPrefixMessages2TypedDict]],
)
r"""The contents of the assistant message. Required unless `tool_calls` or `function_call` is specified."""


InvokeDeploymentRequestPrefixMessages4Content = TypeAliasType(
    "InvokeDeploymentRequestPrefixMessages4Content",
    Union[str, List[InvokeDeploymentRequestContentPrefixMessages2]],
)
r"""The contents of the assistant message. Required unless `tool_calls` or `function_call` is specified."""


InvokeDeploymentRequestPrefixMessages4Role = Literal["assistant",]
r"""The role of the messages author, in this case `assistant`."""


class AudioTypedDict(TypedDict):
    r"""Data about a previous audio response from the model."""

    id: str
    r"""Unique identifier for a previous audio response from the model."""


class Audio(BaseModel):
    r"""Data about a previous audio response from the model."""

    id: str
    r"""Unique identifier for a previous audio response from the model."""


PrefixMessagesType = Literal["function",]
r"""The type of the tool. Currently, only `function` is supported."""


class PrefixMessagesFunctionTypedDict(TypedDict):
    name: NotRequired[str]
    r"""The name of the function to call."""
    arguments: NotRequired[str]
    r"""The arguments to call the function with, as generated by the model in JSON format. Note that the model does not always generate valid JSON, and may hallucinate parameters not defined by your function schema. Validate the arguments in your code before calling your function."""


class PrefixMessagesFunction(BaseModel):
    name: Optional[str] = None
    r"""The name of the function to call."""

    arguments: Optional[str] = None
    r"""The arguments to call the function with, as generated by the model in JSON format. Note that the model does not always generate valid JSON, and may hallucinate parameters not defined by your function schema. Validate the arguments in your code before calling your function."""


class ToolCallsTypedDict(TypedDict):
    id: str
    r"""The ID of the tool call."""
    type: PrefixMessagesType
    r"""The type of the tool. Currently, only `function` is supported."""
    function: PrefixMessagesFunctionTypedDict


class ToolCalls(BaseModel):
    id: str
    r"""The ID of the tool call."""

    type: PrefixMessagesType
    r"""The type of the tool. Currently, only `function` is supported."""

    function: PrefixMessagesFunction


class AssistantMessageTypedDict(TypedDict):
    role: InvokeDeploymentRequestPrefixMessages4Role
    r"""The role of the messages author, in this case `assistant`."""
    content: NotRequired[
        Nullable[InvokeDeploymentRequestPrefixMessages4ContentTypedDict]
    ]
    r"""The contents of the assistant message. Required unless `tool_calls` or `function_call` is specified."""
    refusal: NotRequired[Nullable[str]]
    r"""The refusal message by the assistant."""
    name: NotRequired[str]
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""
    audio: NotRequired[Nullable[AudioTypedDict]]
    r"""Data about a previous audio response from the model."""
    tool_calls: NotRequired[List[ToolCallsTypedDict]]
    r"""The tool calls generated by the model, such as function calls."""


class AssistantMessage(BaseModel):
    role: InvokeDeploymentRequestPrefixMessages4Role
    r"""The role of the messages author, in this case `assistant`."""

    content: OptionalNullable[InvokeDeploymentRequestPrefixMessages4Content] = UNSET
    r"""The contents of the assistant message. Required unless `tool_calls` or `function_call` is specified."""

    refusal: OptionalNullable[str] = UNSET
    r"""The refusal message by the assistant."""

    name: Optional[str] = None
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""

    audio: OptionalNullable[Audio] = UNSET
    r"""Data about a previous audio response from the model."""

    tool_calls: Optional[List[ToolCalls]] = None
    r"""The tool calls generated by the model, such as function calls."""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = ["content", "refusal", "name", "audio", "tool_calls"]
        nullable_fields = ["content", "refusal", "audio"]
        null_default_fields = []

        serialized = handler(self)

        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)
            serialized.pop(k, None)

            optional_nullable = k in optional_fields and k in nullable_fields
            is_set = (
                self.__pydantic_fields_set__.intersection({n})
                or k in null_default_fields
            )  # pylint: disable=no-member

            if val is not None and val != UNSET_SENTINEL:
                m[k] = val
            elif val != UNSET_SENTINEL and (
                not k in optional_fields or (optional_nullable and is_set)
            ):
                m[k] = val

        return m


InvokeDeploymentRequestPrefixMessagesRole = Literal["user",]
r"""The role of the messages author, in this case `user`."""


InvokeDeploymentRequest2Type = Literal["file",]
r"""The type of the content part. Always `file`."""


InvokeDeploymentRequest2PrefixMessages3Type = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


InvokeDeploymentRequest2TTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class InvokeDeploymentRequest2CacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequest2PrefixMessages3Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[InvokeDeploymentRequest2TTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2CacheControl(BaseModel):
    type: InvokeDeploymentRequest2PrefixMessages3Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[InvokeDeploymentRequest2TTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class FourTypedDict(TypedDict):
    type: InvokeDeploymentRequest2Type
    r"""The type of the content part. Always `file`."""
    file: FileContentPartSchemaTypedDict
    r"""File data for the content part. Must contain either file_data or uri, but not both."""
    cache_control: NotRequired[InvokeDeploymentRequest2CacheControlTypedDict]


class Four(BaseModel):
    type: InvokeDeploymentRequest2Type
    r"""The type of the content part. Always `file`."""

    file: FileContentPartSchema
    r"""File data for the content part. Must contain either file_data or uri, but not both."""

    cache_control: Optional[InvokeDeploymentRequest2CacheControl] = None


TwoType = Literal["text",]


InvokeDeploymentRequest2PrefixMessages3ContentType = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


TwoTTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class TwoCacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequest2PrefixMessages3ContentType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[TwoTTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class TwoCacheControl(BaseModel):
    type: InvokeDeploymentRequest2PrefixMessages3ContentType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[TwoTTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2PrefixMessages1TypedDict(TypedDict):
    type: TwoType
    text: str
    cache_control: NotRequired[TwoCacheControlTypedDict]


class InvokeDeploymentRequest2PrefixMessages1(BaseModel):
    type: TwoType

    text: str

    cache_control: Optional[TwoCacheControl] = None


InvokeDeploymentRequestContent2TypedDict = TypeAliasType(
    "InvokeDeploymentRequestContent2TypedDict",
    Union[
        AudioContentPartSchemaTypedDict,
        InvokeDeploymentRequest2PrefixMessages1TypedDict,
        ImageContentPartSchemaTypedDict,
        FourTypedDict,
    ],
)


InvokeDeploymentRequestContent2 = Annotated[
    Union[
        Annotated[InvokeDeploymentRequest2PrefixMessages1, Tag("text")],
        Annotated[ImageContentPartSchema, Tag("image_url")],
        Annotated[AudioContentPartSchema, Tag("input_audio")],
        Annotated[Four, Tag("file")],
    ],
    Discriminator(lambda m: get_discriminator(m, "type", "type")),
]


InvokeDeploymentRequestPrefixMessagesContentTypedDict = TypeAliasType(
    "InvokeDeploymentRequestPrefixMessagesContentTypedDict",
    Union[str, List[InvokeDeploymentRequestContent2TypedDict]],
)
r"""The contents of the user message."""


InvokeDeploymentRequestPrefixMessagesContent = TypeAliasType(
    "InvokeDeploymentRequestPrefixMessagesContent",
    Union[str, List[InvokeDeploymentRequestContent2]],
)
r"""The contents of the user message."""


class UserMessageTypedDict(TypedDict):
    role: InvokeDeploymentRequestPrefixMessagesRole
    r"""The role of the messages author, in this case `user`."""
    content: InvokeDeploymentRequestPrefixMessagesContentTypedDict
    r"""The contents of the user message."""
    name: NotRequired[str]
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


class UserMessage(BaseModel):
    role: InvokeDeploymentRequestPrefixMessagesRole
    r"""The role of the messages author, in this case `user`."""

    content: InvokeDeploymentRequestPrefixMessagesContent
    r"""The contents of the user message."""

    name: Optional[str] = None
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


PrefixMessagesRole = Literal["developer",]
r"""The role of the messages author, in this case  `developer`."""


ContentType = Literal["text",]


InvokeDeploymentRequestContentPrefixMessagesType = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


ContentTTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class ContentCacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequestContentPrefixMessagesType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[ContentTTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class ContentCacheControl(BaseModel):
    type: InvokeDeploymentRequestContentPrefixMessagesType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[ContentTTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class Content2TypedDict(TypedDict):
    type: ContentType
    text: str
    cache_control: NotRequired[ContentCacheControlTypedDict]


class Content2(BaseModel):
    type: ContentType

    text: str

    cache_control: Optional[ContentCacheControl] = None


PrefixMessagesContentTypedDict = TypeAliasType(
    "PrefixMessagesContentTypedDict", Union[str, List[Content2TypedDict]]
)
r"""The contents of the developer message."""


PrefixMessagesContent = TypeAliasType(
    "PrefixMessagesContent", Union[str, List[Content2]]
)
r"""The contents of the developer message."""


class DeveloperMessageTypedDict(TypedDict):
    role: PrefixMessagesRole
    r"""The role of the messages author, in this case  `developer`."""
    content: PrefixMessagesContentTypedDict
    r"""The contents of the developer message."""
    name: NotRequired[str]
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


class DeveloperMessage(BaseModel):
    role: PrefixMessagesRole
    r"""The role of the messages author, in this case  `developer`."""

    content: PrefixMessagesContent
    r"""The contents of the developer message."""

    name: Optional[str] = None
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


Role = Literal["system",]
r"""The role of the messages author, in this case `system`."""


InvokeDeploymentRequestContentType = Literal["text",]


InvokeDeploymentRequestContentPrefixMessages1Type = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


InvokeDeploymentRequestContentTTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class InvokeDeploymentRequestContentCacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequestContentPrefixMessages1Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[InvokeDeploymentRequestContentTTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequestContentCacheControl(BaseModel):
    type: InvokeDeploymentRequestContentPrefixMessages1Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[InvokeDeploymentRequestContentTTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class TwoTypedDict(TypedDict):
    type: InvokeDeploymentRequestContentType
    text: str
    cache_control: NotRequired[InvokeDeploymentRequestContentCacheControlTypedDict]


class Two(BaseModel):
    type: InvokeDeploymentRequestContentType

    text: str

    cache_control: Optional[InvokeDeploymentRequestContentCacheControl] = None


ContentTypedDict = TypeAliasType("ContentTypedDict", Union[str, List[TwoTypedDict]])
r"""The contents of the system message."""


Content = TypeAliasType("Content", Union[str, List[Two]])
r"""The contents of the system message."""


class SystemMessageTypedDict(TypedDict):
    r"""Developer-provided instructions that the model should follow, regardless of messages sent by the user."""

    role: Role
    r"""The role of the messages author, in this case `system`."""
    content: ContentTypedDict
    r"""The contents of the system message."""
    name: NotRequired[str]
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


class SystemMessage(BaseModel):
    r"""Developer-provided instructions that the model should follow, regardless of messages sent by the user."""

    role: Role
    r"""The role of the messages author, in this case `system`."""

    content: Content
    r"""The contents of the system message."""

    name: Optional[str] = None
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


PrefixMessagesTypedDict = TypeAliasType(
    "PrefixMessagesTypedDict",
    Union[
        SystemMessageTypedDict,
        DeveloperMessageTypedDict,
        UserMessageTypedDict,
        ToolMessageTypedDict,
        AssistantMessageTypedDict,
    ],
)


PrefixMessages = Annotated[
    Union[
        Annotated[SystemMessage, Tag("system")],
        Annotated[DeveloperMessage, Tag("developer")],
        Annotated[UserMessage, Tag("user")],
        Annotated[AssistantMessage, Tag("assistant")],
        Annotated[ToolMessage, Tag("tool")],
    ],
    Discriminator(lambda m: get_discriminator(m, "role", "role")),
]


InvokeDeploymentRequestMessages5Role = Literal["tool",]
r"""The role of the messages author, in this case tool."""


InvokeDeploymentRequest2Messages5Type = Literal["text",]


InvokeDeploymentRequest2Messages5ContentType = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


InvokeDeploymentRequest2Messages5TTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class InvokeDeploymentRequest2Messages5CacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequest2Messages5ContentType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[InvokeDeploymentRequest2Messages5TTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2Messages5CacheControl(BaseModel):
    type: InvokeDeploymentRequest2Messages5ContentType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[InvokeDeploymentRequest2Messages5TTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2Messages51TypedDict(TypedDict):
    type: InvokeDeploymentRequest2Messages5Type
    text: str
    cache_control: NotRequired[InvokeDeploymentRequest2Messages5CacheControlTypedDict]


class InvokeDeploymentRequest2Messages51(BaseModel):
    type: InvokeDeploymentRequest2Messages5Type

    text: str

    cache_control: Optional[InvokeDeploymentRequest2Messages5CacheControl] = None


InvokeDeploymentRequestContentMessages52TypedDict = (
    InvokeDeploymentRequest2Messages51TypedDict
)


InvokeDeploymentRequestContentMessages52 = InvokeDeploymentRequest2Messages51


InvokeDeploymentRequestMessages5ContentTypedDict = TypeAliasType(
    "InvokeDeploymentRequestMessages5ContentTypedDict",
    Union[str, List[InvokeDeploymentRequestContentMessages52TypedDict]],
)
r"""The contents of the tool message."""


InvokeDeploymentRequestMessages5Content = TypeAliasType(
    "InvokeDeploymentRequestMessages5Content",
    Union[str, List[InvokeDeploymentRequestContentMessages52]],
)
r"""The contents of the tool message."""


InvokeDeploymentRequestMessagesType = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


MessagesTTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class MessagesCacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequestMessagesType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[MessagesTTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class MessagesCacheControl(BaseModel):
    type: InvokeDeploymentRequestMessagesType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[MessagesTTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class MessagesToolMessageTypedDict(TypedDict):
    role: InvokeDeploymentRequestMessages5Role
    r"""The role of the messages author, in this case tool."""
    content: InvokeDeploymentRequestMessages5ContentTypedDict
    r"""The contents of the tool message."""
    tool_call_id: str
    r"""Tool call that this message is responding to."""
    cache_control: NotRequired[MessagesCacheControlTypedDict]


class MessagesToolMessage(BaseModel):
    role: InvokeDeploymentRequestMessages5Role
    r"""The role of the messages author, in this case tool."""

    content: InvokeDeploymentRequestMessages5Content
    r"""The contents of the tool message."""

    tool_call_id: str
    r"""Tool call that this message is responding to."""

    cache_control: Optional[MessagesCacheControl] = None


InvokeDeploymentRequest2Messages4Type = Literal["text",]


InvokeDeploymentRequest2Messages4ContentType = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


InvokeDeploymentRequest2Messages4TTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class InvokeDeploymentRequest2Messages4CacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequest2Messages4ContentType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[InvokeDeploymentRequest2Messages4TTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2Messages4CacheControl(BaseModel):
    type: InvokeDeploymentRequest2Messages4ContentType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[InvokeDeploymentRequest2Messages4TTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2Messages41TypedDict(TypedDict):
    type: InvokeDeploymentRequest2Messages4Type
    text: str
    cache_control: NotRequired[InvokeDeploymentRequest2Messages4CacheControlTypedDict]


class InvokeDeploymentRequest2Messages41(BaseModel):
    type: InvokeDeploymentRequest2Messages4Type

    text: str

    cache_control: Optional[InvokeDeploymentRequest2Messages4CacheControl] = None


InvokeDeploymentRequestContentMessages42TypedDict = TypeAliasType(
    "InvokeDeploymentRequestContentMessages42TypedDict",
    Union[
        RefusalPartSchemaTypedDict,
        RedactedReasoningPartSchemaTypedDict,
        InvokeDeploymentRequest2Messages41TypedDict,
        ReasoningPartSchemaTypedDict,
    ],
)


InvokeDeploymentRequestContentMessages42 = Annotated[
    Union[
        Annotated[InvokeDeploymentRequest2Messages41, Tag("text")],
        Annotated[RefusalPartSchema, Tag("refusal")],
        Annotated[ReasoningPartSchema, Tag("reasoning")],
        Annotated[RedactedReasoningPartSchema, Tag("redacted_reasoning")],
    ],
    Discriminator(lambda m: get_discriminator(m, "type", "type")),
]


InvokeDeploymentRequestMessages4ContentTypedDict = TypeAliasType(
    "InvokeDeploymentRequestMessages4ContentTypedDict",
    Union[str, List[InvokeDeploymentRequestContentMessages42TypedDict]],
)
r"""The contents of the assistant message. Required unless `tool_calls` or `function_call` is specified."""


InvokeDeploymentRequestMessages4Content = TypeAliasType(
    "InvokeDeploymentRequestMessages4Content",
    Union[str, List[InvokeDeploymentRequestContentMessages42]],
)
r"""The contents of the assistant message. Required unless `tool_calls` or `function_call` is specified."""


InvokeDeploymentRequestMessages4Role = Literal["assistant",]
r"""The role of the messages author, in this case `assistant`."""


class MessagesAudioTypedDict(TypedDict):
    r"""Data about a previous audio response from the model."""

    id: str
    r"""Unique identifier for a previous audio response from the model."""


class MessagesAudio(BaseModel):
    r"""Data about a previous audio response from the model."""

    id: str
    r"""Unique identifier for a previous audio response from the model."""


MessagesType = Literal["function",]
r"""The type of the tool. Currently, only `function` is supported."""


class MessagesFunctionTypedDict(TypedDict):
    name: NotRequired[str]
    r"""The name of the function to call."""
    arguments: NotRequired[str]
    r"""The arguments to call the function with, as generated by the model in JSON format. Note that the model does not always generate valid JSON, and may hallucinate parameters not defined by your function schema. Validate the arguments in your code before calling your function."""


class MessagesFunction(BaseModel):
    name: Optional[str] = None
    r"""The name of the function to call."""

    arguments: Optional[str] = None
    r"""The arguments to call the function with, as generated by the model in JSON format. Note that the model does not always generate valid JSON, and may hallucinate parameters not defined by your function schema. Validate the arguments in your code before calling your function."""


class MessagesToolCallsTypedDict(TypedDict):
    id: str
    r"""The ID of the tool call."""
    type: MessagesType
    r"""The type of the tool. Currently, only `function` is supported."""
    function: MessagesFunctionTypedDict


class MessagesToolCalls(BaseModel):
    id: str
    r"""The ID of the tool call."""

    type: MessagesType
    r"""The type of the tool. Currently, only `function` is supported."""

    function: MessagesFunction


class MessagesAssistantMessageTypedDict(TypedDict):
    role: InvokeDeploymentRequestMessages4Role
    r"""The role of the messages author, in this case `assistant`."""
    content: NotRequired[Nullable[InvokeDeploymentRequestMessages4ContentTypedDict]]
    r"""The contents of the assistant message. Required unless `tool_calls` or `function_call` is specified."""
    refusal: NotRequired[Nullable[str]]
    r"""The refusal message by the assistant."""
    name: NotRequired[str]
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""
    audio: NotRequired[Nullable[MessagesAudioTypedDict]]
    r"""Data about a previous audio response from the model."""
    tool_calls: NotRequired[List[MessagesToolCallsTypedDict]]
    r"""The tool calls generated by the model, such as function calls."""


class MessagesAssistantMessage(BaseModel):
    role: InvokeDeploymentRequestMessages4Role
    r"""The role of the messages author, in this case `assistant`."""

    content: OptionalNullable[InvokeDeploymentRequestMessages4Content] = UNSET
    r"""The contents of the assistant message. Required unless `tool_calls` or `function_call` is specified."""

    refusal: OptionalNullable[str] = UNSET
    r"""The refusal message by the assistant."""

    name: Optional[str] = None
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""

    audio: OptionalNullable[MessagesAudio] = UNSET
    r"""Data about a previous audio response from the model."""

    tool_calls: Optional[List[MessagesToolCalls]] = None
    r"""The tool calls generated by the model, such as function calls."""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = ["content", "refusal", "name", "audio", "tool_calls"]
        nullable_fields = ["content", "refusal", "audio"]
        null_default_fields = []

        serialized = handler(self)

        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)
            serialized.pop(k, None)

            optional_nullable = k in optional_fields and k in nullable_fields
            is_set = (
                self.__pydantic_fields_set__.intersection({n})
                or k in null_default_fields
            )  # pylint: disable=no-member

            if val is not None and val != UNSET_SENTINEL:
                m[k] = val
            elif val != UNSET_SENTINEL and (
                not k in optional_fields or (optional_nullable and is_set)
            ):
                m[k] = val

        return m


InvokeDeploymentRequestMessages3Role = Literal["user",]
r"""The role of the messages author, in this case `user`."""


InvokeDeploymentRequest2Messages3Type = Literal["file",]
r"""The type of the content part. Always `file`."""


InvokeDeploymentRequest2Messages3Content4Type = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


InvokeDeploymentRequest2Messages3TTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class InvokeDeploymentRequest2Messages3CacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequest2Messages3Content4Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[InvokeDeploymentRequest2Messages3TTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2Messages3CacheControl(BaseModel):
    type: InvokeDeploymentRequest2Messages3Content4Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[InvokeDeploymentRequest2Messages3TTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class Two4TypedDict(TypedDict):
    type: InvokeDeploymentRequest2Messages3Type
    r"""The type of the content part. Always `file`."""
    file: FileContentPartSchemaTypedDict
    r"""File data for the content part. Must contain either file_data or uri, but not both."""
    cache_control: NotRequired[InvokeDeploymentRequest2Messages3CacheControlTypedDict]


class Two4(BaseModel):
    type: InvokeDeploymentRequest2Messages3Type
    r"""The type of the content part. Always `file`."""

    file: FileContentPartSchema
    r"""File data for the content part. Must contain either file_data or uri, but not both."""

    cache_control: Optional[InvokeDeploymentRequest2Messages3CacheControl] = None


InvokeDeploymentRequest2MessagesType = Literal["text",]


InvokeDeploymentRequest2Messages3ContentType = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


InvokeDeploymentRequest2MessagesTTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class InvokeDeploymentRequest2MessagesCacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequest2Messages3ContentType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[InvokeDeploymentRequest2MessagesTTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2MessagesCacheControl(BaseModel):
    type: InvokeDeploymentRequest2Messages3ContentType
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[InvokeDeploymentRequest2MessagesTTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequest2Messages1TypedDict(TypedDict):
    type: InvokeDeploymentRequest2MessagesType
    text: str
    cache_control: NotRequired[InvokeDeploymentRequest2MessagesCacheControlTypedDict]


class InvokeDeploymentRequest2Messages1(BaseModel):
    type: InvokeDeploymentRequest2MessagesType

    text: str

    cache_control: Optional[InvokeDeploymentRequest2MessagesCacheControl] = None


InvokeDeploymentRequestContentMessages32TypedDict = TypeAliasType(
    "InvokeDeploymentRequestContentMessages32TypedDict",
    Union[
        AudioContentPartSchemaTypedDict,
        InvokeDeploymentRequest2Messages1TypedDict,
        ImageContentPartSchemaTypedDict,
        Two4TypedDict,
    ],
)


InvokeDeploymentRequestContentMessages32 = Annotated[
    Union[
        Annotated[InvokeDeploymentRequest2Messages1, Tag("text")],
        Annotated[ImageContentPartSchema, Tag("image_url")],
        Annotated[AudioContentPartSchema, Tag("input_audio")],
        Annotated[Two4, Tag("file")],
    ],
    Discriminator(lambda m: get_discriminator(m, "type", "type")),
]


InvokeDeploymentRequestMessages3ContentTypedDict = TypeAliasType(
    "InvokeDeploymentRequestMessages3ContentTypedDict",
    Union[str, List[InvokeDeploymentRequestContentMessages32TypedDict]],
)
r"""The contents of the user message."""


InvokeDeploymentRequestMessages3Content = TypeAliasType(
    "InvokeDeploymentRequestMessages3Content",
    Union[str, List[InvokeDeploymentRequestContentMessages32]],
)
r"""The contents of the user message."""


class MessagesUserMessageTypedDict(TypedDict):
    role: InvokeDeploymentRequestMessages3Role
    r"""The role of the messages author, in this case `user`."""
    content: InvokeDeploymentRequestMessages3ContentTypedDict
    r"""The contents of the user message."""
    name: NotRequired[str]
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


class MessagesUserMessage(BaseModel):
    role: InvokeDeploymentRequestMessages3Role
    r"""The role of the messages author, in this case `user`."""

    content: InvokeDeploymentRequestMessages3Content
    r"""The contents of the user message."""

    name: Optional[str] = None
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


InvokeDeploymentRequestMessagesRole = Literal["developer",]
r"""The role of the messages author, in this case  `developer`."""


InvokeDeploymentRequestContentMessages2Type = Literal["text",]


InvokeDeploymentRequestContentMessages22Type = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


InvokeDeploymentRequestContentMessages2TTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class InvokeDeploymentRequestContentMessages2CacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequestContentMessages22Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[InvokeDeploymentRequestContentMessages2TTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequestContentMessages2CacheControl(BaseModel):
    type: InvokeDeploymentRequestContentMessages22Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[InvokeDeploymentRequestContentMessages2TTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequestContentMessages22TypedDict(TypedDict):
    type: InvokeDeploymentRequestContentMessages2Type
    text: str
    cache_control: NotRequired[
        InvokeDeploymentRequestContentMessages2CacheControlTypedDict
    ]


class InvokeDeploymentRequestContentMessages22(BaseModel):
    type: InvokeDeploymentRequestContentMessages2Type

    text: str

    cache_control: Optional[InvokeDeploymentRequestContentMessages2CacheControl] = None


InvokeDeploymentRequestMessagesContentTypedDict = TypeAliasType(
    "InvokeDeploymentRequestMessagesContentTypedDict",
    Union[str, List[InvokeDeploymentRequestContentMessages22TypedDict]],
)
r"""The contents of the developer message."""


InvokeDeploymentRequestMessagesContent = TypeAliasType(
    "InvokeDeploymentRequestMessagesContent",
    Union[str, List[InvokeDeploymentRequestContentMessages22]],
)
r"""The contents of the developer message."""


class MessagesDeveloperMessageTypedDict(TypedDict):
    role: InvokeDeploymentRequestMessagesRole
    r"""The role of the messages author, in this case  `developer`."""
    content: InvokeDeploymentRequestMessagesContentTypedDict
    r"""The contents of the developer message."""
    name: NotRequired[str]
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


class MessagesDeveloperMessage(BaseModel):
    role: InvokeDeploymentRequestMessagesRole
    r"""The role of the messages author, in this case  `developer`."""

    content: InvokeDeploymentRequestMessagesContent
    r"""The contents of the developer message."""

    name: Optional[str] = None
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


MessagesRole = Literal["system",]
r"""The role of the messages author, in this case `system`."""


InvokeDeploymentRequestContentMessagesType = Literal["text",]


InvokeDeploymentRequestContentMessages1Type = Literal["ephemeral",]
r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""


InvokeDeploymentRequestContentMessagesTTL = Literal[
    "5m",
    "1h",
]
r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

- `5m`: 5 minutes
- `1h`: 1 hour

Defaults to `5m`. Only supported by `Anthropic` Claude models.
"""


class InvokeDeploymentRequestContentMessagesCacheControlTypedDict(TypedDict):
    type: InvokeDeploymentRequestContentMessages1Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""
    ttl: NotRequired[InvokeDeploymentRequestContentMessagesTTL]
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequestContentMessagesCacheControl(BaseModel):
    type: InvokeDeploymentRequestContentMessages1Type
    r"""Create a cache control breakpoint at this content block. Accepts only the value \"ephemeral\"."""

    ttl: Optional[InvokeDeploymentRequestContentMessagesTTL] = "5m"
    r"""The time-to-live for the cache control breakpoint. This may be one of the following values:

    - `5m`: 5 minutes
    - `1h`: 1 hour

    Defaults to `5m`. Only supported by `Anthropic` Claude models.
    """


class InvokeDeploymentRequestContentMessages2TypedDict(TypedDict):
    type: InvokeDeploymentRequestContentMessagesType
    text: str
    cache_control: NotRequired[
        InvokeDeploymentRequestContentMessagesCacheControlTypedDict
    ]


class InvokeDeploymentRequestContentMessages2(BaseModel):
    type: InvokeDeploymentRequestContentMessagesType

    text: str

    cache_control: Optional[InvokeDeploymentRequestContentMessagesCacheControl] = None


MessagesContentTypedDict = TypeAliasType(
    "MessagesContentTypedDict",
    Union[str, List[InvokeDeploymentRequestContentMessages2TypedDict]],
)
r"""The contents of the system message."""


MessagesContent = TypeAliasType(
    "MessagesContent", Union[str, List[InvokeDeploymentRequestContentMessages2]]
)
r"""The contents of the system message."""


class MessagesSystemMessageTypedDict(TypedDict):
    r"""Developer-provided instructions that the model should follow, regardless of messages sent by the user."""

    role: MessagesRole
    r"""The role of the messages author, in this case `system`."""
    content: MessagesContentTypedDict
    r"""The contents of the system message."""
    name: NotRequired[str]
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


class MessagesSystemMessage(BaseModel):
    r"""Developer-provided instructions that the model should follow, regardless of messages sent by the user."""

    role: MessagesRole
    r"""The role of the messages author, in this case `system`."""

    content: MessagesContent
    r"""The contents of the system message."""

    name: Optional[str] = None
    r"""An optional name for the participant. Provides the model information to differentiate between participants of the same role."""


MessagesTypedDict = TypeAliasType(
    "MessagesTypedDict",
    Union[
        MessagesSystemMessageTypedDict,
        MessagesDeveloperMessageTypedDict,
        MessagesUserMessageTypedDict,
        MessagesToolMessageTypedDict,
        MessagesAssistantMessageTypedDict,
    ],
)


Messages = Annotated[
    Union[
        Annotated[MessagesSystemMessage, Tag("system")],
        Annotated[MessagesDeveloperMessage, Tag("developer")],
        Annotated[MessagesUserMessage, Tag("user")],
        Annotated[MessagesAssistantMessage, Tag("assistant")],
        Annotated[MessagesToolMessage, Tag("tool")],
    ],
    Discriminator(lambda m: get_discriminator(m, "role", "role")),
]


class MetadataTypedDict(TypedDict):
    r"""Metadata about the document"""

    file_name: NotRequired[str]
    r"""Name of the file the text is from."""
    file_type: NotRequired[str]
    r"""Content type of the file the text is from."""
    page_number: NotRequired[float]
    r"""The page number the text is from."""


class Metadata(BaseModel):
    r"""Metadata about the document"""

    file_name: Optional[str] = None
    r"""Name of the file the text is from."""

    file_type: Optional[str] = None
    r"""Content type of the file the text is from."""

    page_number: Optional[float] = None
    r"""The page number the text is from."""


class DocumentsTypedDict(TypedDict):
    text: str
    r"""The text content of the document"""
    metadata: NotRequired[MetadataTypedDict]
    r"""Metadata about the document"""


class Documents(BaseModel):
    text: str
    r"""The text content of the document"""

    metadata: Optional[Metadata] = None
    r"""Metadata about the document"""


class InvokeOptionsTypedDict(TypedDict):
    include_retrievals: NotRequired[bool]
    r"""Whether to include the retrieved knowledge chunks in the response."""
    include_usage: NotRequired[bool]
    r"""Whether to include the usage metrics in the response."""
    mock_response: NotRequired[str]
    r"""A mock response to use instead of calling the LLM API. This is useful for testing purposes. When provided, the system will return a response object with this content as the completion, without making an actual API call to the LLM provider. This works for both streaming and non-streaming requests. Mock responses will not generate logs, traces or be counted for your plan usage."""


class InvokeOptions(BaseModel):
    include_retrievals: Optional[bool] = False
    r"""Whether to include the retrieved knowledge chunks in the response."""

    include_usage: Optional[bool] = False
    r"""Whether to include the usage metrics in the response."""

    mock_response: Optional[str] = None
    r"""A mock response to use instead of calling the LLM API. This is useful for testing purposes. When provided, the system will return a response object with this content as the completion, without making an actual API call to the LLM provider. This works for both streaming and non-streaming requests. Mock responses will not generate logs, traces or be counted for your plan usage."""


class ThreadTypedDict(TypedDict):
    id: str
    r"""Unique thread identifier to group related invocations."""
    tags: NotRequired[List[str]]
    r"""Optional tags to differentiate or categorize threads"""


class Thread(BaseModel):
    id: str
    r"""Unique thread identifier to group related invocations."""

    tags: Optional[List[str]] = None
    r"""Optional tags to differentiate or categorize threads"""


class OrExistsTypedDict(TypedDict):
    r"""Exists"""

    exists: bool


class OrExists(BaseModel):
    r"""Exists"""

    exists: bool


OrNinTypedDict = TypeAliasType("OrNinTypedDict", Union[str, float, bool])


OrNin = TypeAliasType("OrNin", Union[str, float, bool])


class InvokeDeploymentRequestOrNinTypedDict(TypedDict):
    r"""Not in"""

    nin: List[OrNinTypedDict]


class InvokeDeploymentRequestOrNin(BaseModel):
    r"""Not in"""

    nin: List[OrNin]


OrInTypedDict = TypeAliasType("OrInTypedDict", Union[str, float, bool])


OrIn = TypeAliasType("OrIn", Union[str, float, bool])


class InvokeDeploymentRequestOrInTypedDict(TypedDict):
    r"""In"""

    in_: List[OrInTypedDict]


class InvokeDeploymentRequestOrIn(BaseModel):
    r"""In"""

    in_: Annotated[List[OrIn], pydantic.Field(alias="in")]


class OrLteTypedDict(TypedDict):
    r"""Less than or equal to"""

    lte: float


class OrLte(BaseModel):
    r"""Less than or equal to"""

    lte: float


class OrLtTypedDict(TypedDict):
    r"""Less than"""

    lt: float


class OrLt(BaseModel):
    r"""Less than"""

    lt: float


class OrGteTypedDict(TypedDict):
    r"""Greater than or equal to"""

    gte: float


class OrGte(BaseModel):
    r"""Greater than or equal to"""

    gte: float


class OrGtTypedDict(TypedDict):
    r"""Greater than"""

    gt: float


class OrGt(BaseModel):
    r"""Greater than"""

    gt: float


OrNeTypedDict = TypeAliasType("OrNeTypedDict", Union[str, float, bool])


OrNe = TypeAliasType("OrNe", Union[str, float, bool])


class InvokeDeploymentRequestOrNeTypedDict(TypedDict):
    r"""Not equal to"""

    ne: OrNeTypedDict


class InvokeDeploymentRequestOrNe(BaseModel):
    r"""Not equal to"""

    ne: OrNe


OrEqTypedDict = TypeAliasType("OrEqTypedDict", Union[str, float, bool])


OrEq = TypeAliasType("OrEq", Union[str, float, bool])


class InvokeDeploymentRequestOrEqTypedDict(TypedDict):
    r"""Equal to"""

    eq: OrEqTypedDict


class InvokeDeploymentRequestOrEq(BaseModel):
    r"""Equal to"""

    eq: OrEq


OrTypedDict = TypeAliasType(
    "OrTypedDict",
    Union[
        InvokeDeploymentRequestOrEqTypedDict,
        InvokeDeploymentRequestOrNeTypedDict,
        OrGtTypedDict,
        OrGteTypedDict,
        OrLtTypedDict,
        OrLteTypedDict,
        InvokeDeploymentRequestOrInTypedDict,
        InvokeDeploymentRequestOrNinTypedDict,
        OrExistsTypedDict,
    ],
)


Or = TypeAliasType(
    "Or",
    Union[
        InvokeDeploymentRequestOrEq,
        InvokeDeploymentRequestOrNe,
        OrGt,
        OrGte,
        OrLt,
        OrLte,
        InvokeDeploymentRequestOrIn,
        InvokeDeploymentRequestOrNin,
        OrExists,
    ],
)


class KnowledgeFilterOrTypedDict(TypedDict):
    r"""Or"""

    or_: List[Dict[str, OrTypedDict]]


class KnowledgeFilterOr(BaseModel):
    r"""Or"""

    or_: Annotated[List[Dict[str, Or]], pydantic.Field(alias="or")]


class AndExistsTypedDict(TypedDict):
    r"""Exists"""

    exists: bool


class AndExists(BaseModel):
    r"""Exists"""

    exists: bool


AndNinTypedDict = TypeAliasType("AndNinTypedDict", Union[str, float, bool])


AndNin = TypeAliasType("AndNin", Union[str, float, bool])


class InvokeDeploymentRequestAndNinTypedDict(TypedDict):
    r"""Not in"""

    nin: List[AndNinTypedDict]


class InvokeDeploymentRequestAndNin(BaseModel):
    r"""Not in"""

    nin: List[AndNin]


AndInTypedDict = TypeAliasType("AndInTypedDict", Union[str, float, bool])


AndIn = TypeAliasType("AndIn", Union[str, float, bool])


class InvokeDeploymentRequestAndInTypedDict(TypedDict):
    r"""In"""

    in_: List[AndInTypedDict]


class InvokeDeploymentRequestAndIn(BaseModel):
    r"""In"""

    in_: Annotated[List[AndIn], pydantic.Field(alias="in")]


class AndLteTypedDict(TypedDict):
    r"""Less than or equal to"""

    lte: float


class AndLte(BaseModel):
    r"""Less than or equal to"""

    lte: float


class AndLtTypedDict(TypedDict):
    r"""Less than"""

    lt: float


class AndLt(BaseModel):
    r"""Less than"""

    lt: float


class AndGteTypedDict(TypedDict):
    r"""Greater than or equal to"""

    gte: float


class AndGte(BaseModel):
    r"""Greater than or equal to"""

    gte: float


class AndGtTypedDict(TypedDict):
    r"""Greater than"""

    gt: float


class AndGt(BaseModel):
    r"""Greater than"""

    gt: float


AndNeTypedDict = TypeAliasType("AndNeTypedDict", Union[str, float, bool])


AndNe = TypeAliasType("AndNe", Union[str, float, bool])


class InvokeDeploymentRequestAndNeTypedDict(TypedDict):
    r"""Not equal to"""

    ne: AndNeTypedDict


class InvokeDeploymentRequestAndNe(BaseModel):
    r"""Not equal to"""

    ne: AndNe


AndEqTypedDict = TypeAliasType("AndEqTypedDict", Union[str, float, bool])


AndEq = TypeAliasType("AndEq", Union[str, float, bool])


class InvokeDeploymentRequestAndEqTypedDict(TypedDict):
    r"""Equal to"""

    eq: AndEqTypedDict


class InvokeDeploymentRequestAndEq(BaseModel):
    r"""Equal to"""

    eq: AndEq


AndTypedDict = TypeAliasType(
    "AndTypedDict",
    Union[
        InvokeDeploymentRequestAndEqTypedDict,
        InvokeDeploymentRequestAndNeTypedDict,
        AndGtTypedDict,
        AndGteTypedDict,
        AndLtTypedDict,
        AndLteTypedDict,
        InvokeDeploymentRequestAndInTypedDict,
        InvokeDeploymentRequestAndNinTypedDict,
        AndExistsTypedDict,
    ],
)


And = TypeAliasType(
    "And",
    Union[
        InvokeDeploymentRequestAndEq,
        InvokeDeploymentRequestAndNe,
        AndGt,
        AndGte,
        AndLt,
        AndLte,
        InvokeDeploymentRequestAndIn,
        InvokeDeploymentRequestAndNin,
        AndExists,
    ],
)


class KnowledgeFilterAndTypedDict(TypedDict):
    r"""And"""

    and_: List[Dict[str, AndTypedDict]]


class KnowledgeFilterAnd(BaseModel):
    r"""And"""

    and_: Annotated[List[Dict[str, And]], pydantic.Field(alias="and")]


class ExistsTypedDict(TypedDict):
    r"""Exists"""

    exists: bool


class Exists(BaseModel):
    r"""Exists"""

    exists: bool


NinTypedDict = TypeAliasType("NinTypedDict", Union[str, float, bool])


Nin = TypeAliasType("Nin", Union[str, float, bool])


class OneNinTypedDict(TypedDict):
    r"""Not in"""

    nin: List[NinTypedDict]


class OneNin(BaseModel):
    r"""Not in"""

    nin: List[Nin]


InTypedDict = TypeAliasType("InTypedDict", Union[str, float, bool])


In = TypeAliasType("In", Union[str, float, bool])


class OneInTypedDict(TypedDict):
    r"""In"""

    in_: List[InTypedDict]


class OneIn(BaseModel):
    r"""In"""

    in_: Annotated[List[In], pydantic.Field(alias="in")]


class LteTypedDict(TypedDict):
    r"""Less than or equal to"""

    lte: float


class Lte(BaseModel):
    r"""Less than or equal to"""

    lte: float


class LtTypedDict(TypedDict):
    r"""Less than"""

    lt: float


class Lt(BaseModel):
    r"""Less than"""

    lt: float


class GteTypedDict(TypedDict):
    r"""Greater than or equal to"""

    gte: float


class Gte(BaseModel):
    r"""Greater than or equal to"""

    gte: float


class GtTypedDict(TypedDict):
    r"""Greater than"""

    gt: float


class Gt(BaseModel):
    r"""Greater than"""

    gt: float


NeTypedDict = TypeAliasType("NeTypedDict", Union[str, float, bool])


Ne = TypeAliasType("Ne", Union[str, float, bool])


class OneNeTypedDict(TypedDict):
    r"""Not equal to"""

    ne: NeTypedDict


class OneNe(BaseModel):
    r"""Not equal to"""

    ne: Ne


EqTypedDict = TypeAliasType("EqTypedDict", Union[str, float, bool])


Eq = TypeAliasType("Eq", Union[str, float, bool])


class OneEqTypedDict(TypedDict):
    r"""Equal to"""

    eq: EqTypedDict


class OneEq(BaseModel):
    r"""Equal to"""

    eq: Eq


OneTypedDict = TypeAliasType(
    "OneTypedDict",
    Union[
        OneEqTypedDict,
        OneNeTypedDict,
        GtTypedDict,
        GteTypedDict,
        LtTypedDict,
        LteTypedDict,
        OneInTypedDict,
        OneNinTypedDict,
        ExistsTypedDict,
    ],
)


One = TypeAliasType("One", Union[OneEq, OneNe, Gt, Gte, Lt, Lte, OneIn, OneNin, Exists])


KnowledgeFilterTypedDict = TypeAliasType(
    "KnowledgeFilterTypedDict",
    Union[
        KnowledgeFilterAndTypedDict, KnowledgeFilterOrTypedDict, Dict[str, OneTypedDict]
    ],
)
r"""A filter to apply to the knowledge base chunk metadata when using  knowledge bases in the deployment."""


KnowledgeFilter = TypeAliasType(
    "KnowledgeFilter", Union[KnowledgeFilterAnd, KnowledgeFilterOr, Dict[str, One]]
)
r"""A filter to apply to the knowledge base chunk metadata when using  knowledge bases in the deployment."""


class InvokeDeploymentRequestTypedDict(TypedDict):
    r"""The deployment request payload"""

    key: str
    r"""The deployment key to invoke"""
    stream: NotRequired[bool]
    r"""If set, partial message content will be sent. Tokens will be sent as data-only `server-sent events` as they become available, with the stream terminated by a `data: [DONE]` message."""
    inputs: NotRequired[Dict[str, Any]]
    r"""Key-value pairs variables to replace in your prompts. If a variable is not provided that is defined in the prompt, the default variables are used."""
    context: NotRequired[Dict[str, Any]]
    r"""Key-value pairs that match your data model and fields declared in your deployment routing configuration"""
    prefix_messages: NotRequired[List[PrefixMessagesTypedDict]]
    r"""A list of messages to include after the `System` message, but before the  `User` and `Assistant` pairs configured in your deployment."""
    messages: NotRequired[List[MessagesTypedDict]]
    r"""A list of messages to send to the deployment."""
    file_ids: NotRequired[List[str]]
    r"""A list of file IDs that are associated with the deployment request."""
    metadata: NotRequired[Dict[str, Any]]
    r"""Key-value pairs that you want to attach to the log generated by this request."""
    extra_params: NotRequired[Dict[str, Any]]
    r"""Utilized for passing additional parameters to the model provider. Exercise caution when using this feature, as the included parameters will overwrite any parameters specified in the deployment prompt configuration."""
    documents: NotRequired[List[DocumentsTypedDict]]
    r"""A list of relevant documents that evaluators and guardrails can cite to evaluate the user input or the model response based on your deployment settings."""
    invoke_options: NotRequired[InvokeOptionsTypedDict]
    thread: NotRequired[ThreadTypedDict]
    knowledge_filter: NotRequired[KnowledgeFilterTypedDict]
    r"""A filter to apply to the knowledge base chunk metadata when using  knowledge bases in the deployment."""


class InvokeDeploymentRequest(BaseModel):
    r"""The deployment request payload"""

    key: str
    r"""The deployment key to invoke"""

    stream: Optional[bool] = False
    r"""If set, partial message content will be sent. Tokens will be sent as data-only `server-sent events` as they become available, with the stream terminated by a `data: [DONE]` message."""

    inputs: Optional[Dict[str, Any]] = None
    r"""Key-value pairs variables to replace in your prompts. If a variable is not provided that is defined in the prompt, the default variables are used."""

    context: Optional[Dict[str, Any]] = None
    r"""Key-value pairs that match your data model and fields declared in your deployment routing configuration"""

    prefix_messages: Optional[List[PrefixMessages]] = None
    r"""A list of messages to include after the `System` message, but before the  `User` and `Assistant` pairs configured in your deployment."""

    messages: Optional[List[Messages]] = None
    r"""A list of messages to send to the deployment."""

    file_ids: Optional[List[str]] = None
    r"""A list of file IDs that are associated with the deployment request."""

    metadata: Optional[Dict[str, Any]] = None
    r"""Key-value pairs that you want to attach to the log generated by this request."""

    extra_params: Optional[Dict[str, Any]] = None
    r"""Utilized for passing additional parameters to the model provider. Exercise caution when using this feature, as the included parameters will overwrite any parameters specified in the deployment prompt configuration."""

    documents: Optional[List[Documents]] = None
    r"""A list of relevant documents that evaluators and guardrails can cite to evaluate the user input or the model response based on your deployment settings."""

    invoke_options: Optional[InvokeOptions] = None

    thread: Optional[Thread] = None

    knowledge_filter: Optional[KnowledgeFilter] = None
    r"""A filter to apply to the knowledge base chunk metadata when using  knowledge bases in the deployment."""
