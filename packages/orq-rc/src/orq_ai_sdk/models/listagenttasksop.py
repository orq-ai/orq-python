"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from dataclasses import dataclass, field
import httpx
from orq_ai_sdk.models import OrqError
from orq_ai_sdk.types import BaseModel
from orq_ai_sdk.utils import FieldMetadata, PathParamMetadata, QueryParamMetadata
import pydantic
from typing import Any, Dict, List, Literal, Optional, Union
from typing_extensions import Annotated, NotRequired, TypeAliasType, TypedDict


Status = Literal[
    "submitted",
    "working",
    "input-required",
    "auth-required",
    "completed",
    "failed",
    "canceled",
    "rejected",
]
r"""Comma-separated list of task statuses to filter by. Available values: inactive, approval_required, in_progress, errored"""


class ListAgentTasksRequestTypedDict(TypedDict):
    agent_key: str
    r"""The unique key of the agent"""
    limit: NotRequired[float]
    r"""A limit on the number of objects to be returned. Limit can range between 1 and 50, and the default is 10"""
    starting_after: NotRequired[str]
    r"""A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 20 objects, ending with `01JJ1HDHN79XAS7A01WB3HYSDB`, your subsequent call can include `after=01JJ1HDHN79XAS7A01WB3HYSDB` in order to fetch the next page of the list."""
    ending_before: NotRequired[str]
    r"""A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 20 objects, starting with `01JJ1HDHN79XAS7A01WB3HYSDB`, your subsequent call can include `before=01JJ1HDHN79XAS7A01WB3HYSDB` in order to fetch the previous page of the list."""
    status: NotRequired[Status]
    r"""Comma-separated list of task statuses to filter by. Available values: inactive, approval_required, in_progress, errored"""


class ListAgentTasksRequest(BaseModel):
    agent_key: Annotated[
        str, FieldMetadata(path=PathParamMetadata(style="simple", explode=False))
    ]
    r"""The unique key of the agent"""

    limit: Annotated[
        Optional[float],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = 10
    r"""A limit on the number of objects to be returned. Limit can range between 1 and 50, and the default is 10"""

    starting_after: Annotated[
        Optional[str],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = None
    r"""A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 20 objects, ending with `01JJ1HDHN79XAS7A01WB3HYSDB`, your subsequent call can include `after=01JJ1HDHN79XAS7A01WB3HYSDB` in order to fetch the next page of the list."""

    ending_before: Annotated[
        Optional[str],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = None
    r"""A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 20 objects, starting with `01JJ1HDHN79XAS7A01WB3HYSDB`, your subsequent call can include `before=01JJ1HDHN79XAS7A01WB3HYSDB` in order to fetch the previous page of the list."""

    status: Annotated[
        Optional[Status],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = None
    r"""Comma-separated list of task statuses to filter by. Available values: inactive, approval_required, in_progress, errored"""


class ListAgentTasksAgentsResponseBodyData(BaseModel):
    message: str


@dataclass(unsafe_hash=True)
class ListAgentTasksAgentsResponseBody(OrqError):
    r"""No agent tasks found"""

    data: ListAgentTasksAgentsResponseBodyData = field(hash=False)

    def __init__(
        self,
        data: ListAgentTasksAgentsResponseBodyData,
        raw_response: httpx.Response,
        body: Optional[str] = None,
    ):
        fallback = body or raw_response.text
        message = str(data.message) or fallback
        super().__init__(message, raw_response, body)
        object.__setattr__(self, "data", data)


ListAgentTasksKind = Literal["task",]


class ListAgentTasksStatusTypedDict(TypedDict):
    state: str
    timestamp: NotRequired[str]
    message: NotRequired[Any]


class ListAgentTasksStatus(BaseModel):
    state: str

    timestamp: Optional[str] = None

    message: Optional[Any] = None


ListAgentTasksAgentsKind = Literal["message",]


ListAgentTasksRole = Literal[
    "user",
    "agent",
    "tool",
    "system",
]
r"""Extended A2A message role"""


ListAgentTasksPartsAgentsResponse200ApplicationJSONKind = Literal["tool_result",]


class ListAgentTasksParts5TypedDict(TypedDict):
    kind: ListAgentTasksPartsAgentsResponse200ApplicationJSONKind
    tool_call_id: str
    result: NotRequired[Any]
    metadata: NotRequired[Dict[str, Any]]


class ListAgentTasksParts5(BaseModel):
    kind: ListAgentTasksPartsAgentsResponse200ApplicationJSONKind

    tool_call_id: str

    result: Optional[Any] = None

    metadata: Optional[Dict[str, Any]] = None


ListAgentTasksPartsAgentsResponse200Kind = Literal["tool_call",]


class ListAgentTasksParts4TypedDict(TypedDict):
    kind: ListAgentTasksPartsAgentsResponse200Kind
    tool_name: str
    tool_call_id: str
    arguments: Dict[str, Any]
    metadata: NotRequired[Dict[str, Any]]


class ListAgentTasksParts4(BaseModel):
    kind: ListAgentTasksPartsAgentsResponse200Kind

    tool_name: str

    tool_call_id: str

    arguments: Dict[str, Any]

    metadata: Optional[Dict[str, Any]] = None


ListAgentTasksPartsAgentsResponseKind = Literal["file",]


class ListAgentTasksFileFileInURIFormatTypedDict(TypedDict):
    r"""File in URI format. Check in the model's documentation for the supported mime types for the URI format"""

    uri: str
    r"""URL for the File content"""
    mime_type: NotRequired[str]
    r"""Optional mimeType for the file"""
    name: NotRequired[str]
    r"""Optional name for the file"""


class ListAgentTasksFileFileInURIFormat(BaseModel):
    r"""File in URI format. Check in the model's documentation for the supported mime types for the URI format"""

    uri: str
    r"""URL for the File content"""

    mime_type: Annotated[Optional[str], pydantic.Field(alias="mimeType")] = None
    r"""Optional mimeType for the file"""

    name: Optional[str] = None
    r"""Optional name for the file"""


class ListAgentTasksFileBinaryFormatTypedDict(TypedDict):
    r"""Binary in base64 format. Check in the model's documentation for the supported mime types for the binary format."""

    bytes_: str
    r"""base64 encoded content of the file"""
    mime_type: NotRequired[str]
    r"""Optional mimeType for the file"""
    name: NotRequired[str]
    r"""Optional name for the file"""


class ListAgentTasksFileBinaryFormat(BaseModel):
    r"""Binary in base64 format. Check in the model's documentation for the supported mime types for the binary format."""

    bytes_: Annotated[str, pydantic.Field(alias="bytes")]
    r"""base64 encoded content of the file"""

    mime_type: Annotated[Optional[str], pydantic.Field(alias="mimeType")] = None
    r"""Optional mimeType for the file"""

    name: Optional[str] = None
    r"""Optional name for the file"""


ListAgentTasksPartsFileTypedDict = TypeAliasType(
    "ListAgentTasksPartsFileTypedDict",
    Union[
        ListAgentTasksFileBinaryFormatTypedDict,
        ListAgentTasksFileFileInURIFormatTypedDict,
    ],
)


ListAgentTasksPartsFile = TypeAliasType(
    "ListAgentTasksPartsFile",
    Union[ListAgentTasksFileBinaryFormat, ListAgentTasksFileFileInURIFormat],
)


class ListAgentTasksParts3TypedDict(TypedDict):
    kind: ListAgentTasksPartsAgentsResponseKind
    file: ListAgentTasksPartsFileTypedDict
    metadata: NotRequired[Dict[str, Any]]


class ListAgentTasksParts3(BaseModel):
    kind: ListAgentTasksPartsAgentsResponseKind

    file: ListAgentTasksPartsFile

    metadata: Optional[Dict[str, Any]] = None


ListAgentTasksPartsAgentsKind = Literal["data",]


class ListAgentTasksParts2TypedDict(TypedDict):
    kind: ListAgentTasksPartsAgentsKind
    data: Dict[str, Any]
    metadata: NotRequired[Dict[str, Any]]


class ListAgentTasksParts2(BaseModel):
    kind: ListAgentTasksPartsAgentsKind

    data: Dict[str, Any]

    metadata: Optional[Dict[str, Any]] = None


ListAgentTasksPartsKind = Literal["text",]


class ListAgentTasksParts1TypedDict(TypedDict):
    kind: ListAgentTasksPartsKind
    text: str


class ListAgentTasksParts1(BaseModel):
    kind: ListAgentTasksPartsKind

    text: str


ListAgentTasksPartsTypedDict = TypeAliasType(
    "ListAgentTasksPartsTypedDict",
    Union[
        ListAgentTasksParts1TypedDict,
        ListAgentTasksParts2TypedDict,
        ListAgentTasksParts3TypedDict,
        ListAgentTasksParts5TypedDict,
        ListAgentTasksParts4TypedDict,
    ],
)


ListAgentTasksParts = TypeAliasType(
    "ListAgentTasksParts",
    Union[
        ListAgentTasksParts1,
        ListAgentTasksParts2,
        ListAgentTasksParts3,
        ListAgentTasksParts5,
        ListAgentTasksParts4,
    ],
)


class ListAgentTasksHistoryTypedDict(TypedDict):
    kind: ListAgentTasksAgentsKind
    message_id: str
    role: ListAgentTasksRole
    r"""Extended A2A message role"""
    parts: List[ListAgentTasksPartsTypedDict]
    task_id: NotRequired[str]
    context_id: NotRequired[str]
    metadata: NotRequired[Dict[str, Any]]


class ListAgentTasksHistory(BaseModel):
    kind: ListAgentTasksAgentsKind

    message_id: Annotated[str, pydantic.Field(alias="messageId")]

    role: ListAgentTasksRole
    r"""Extended A2A message role"""

    parts: List[ListAgentTasksParts]

    task_id: Annotated[Optional[str], pydantic.Field(alias="taskId")] = None

    context_id: Annotated[Optional[str], pydantic.Field(alias="contextId")] = None

    metadata: Optional[Dict[str, Any]] = None


ListAgentTasksAgentsResponseKind = Literal["artifact",]


class ListAgentTasksArtifactsTypedDict(TypedDict):
    kind: ListAgentTasksAgentsResponseKind
    artifact_id: str
    name: str
    type: str
    url: NotRequired[str]
    data: NotRequired[Any]


class ListAgentTasksArtifacts(BaseModel):
    kind: ListAgentTasksAgentsResponseKind

    artifact_id: Annotated[str, pydantic.Field(alias="artifactId")]

    name: str

    type: str

    url: Optional[str] = None

    data: Optional[Any] = None


class TasksTypedDict(TypedDict):
    id: str
    context_id: str
    kind: ListAgentTasksKind
    status: ListAgentTasksStatusTypedDict
    history: List[ListAgentTasksHistoryTypedDict]
    artifacts: NotRequired[List[ListAgentTasksArtifactsTypedDict]]
    metadata: NotRequired[Dict[str, Any]]


class Tasks(BaseModel):
    id: str

    context_id: Annotated[str, pydantic.Field(alias="contextId")]

    kind: ListAgentTasksKind

    status: ListAgentTasksStatus

    history: List[ListAgentTasksHistory]

    artifacts: Optional[List[ListAgentTasksArtifacts]] = None

    metadata: Optional[Dict[str, Any]] = None


class ListAgentTasksResponseBodyTypedDict(TypedDict):
    r"""Agent tasks retrieved"""

    tasks: List[TasksTypedDict]
    overall_total: float


class ListAgentTasksResponseBody(BaseModel):
    r"""Agent tasks retrieved"""

    tasks: List[Tasks]

    overall_total: float
