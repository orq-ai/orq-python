"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from orq_ai_sdk.types import BaseModel
from orq_ai_sdk.utils import FieldMetadata, PathParamMetadata, RequestMetadata
import pydantic
from typing import Any, Dict, List, Literal, Optional, Union
from typing_extensions import Annotated, NotRequired, TypeAliasType, TypedDict


RoleToolMessage = Literal["tool",]
r"""Message containing tool execution results"""


RoleUserMessage = Literal["user",]
r"""Message from the end user"""


InvokeAgentRoleTypedDict = TypeAliasType(
    "InvokeAgentRoleTypedDict", Union[RoleUserMessage, RoleToolMessage]
)
r"""Message role (user or tool for continuing executions)"""


InvokeAgentRole = TypeAliasType(
    "InvokeAgentRole", Union[RoleUserMessage, RoleToolMessage]
)
r"""Message role (user or tool for continuing executions)"""


InvokeAgentPublicMessagePartKind = Literal["tool_result",]


class ToolResultPartTypedDict(TypedDict):
    r"""Tool execution result part. Use this ONLY when providing results for a pending tool call from the agent. The tool_call_id must match the ID from the agent's tool call request."""

    kind: InvokeAgentPublicMessagePartKind
    tool_call_id: str
    result: NotRequired[Any]
    metadata: NotRequired[Dict[str, Any]]


class ToolResultPart(BaseModel):
    r"""Tool execution result part. Use this ONLY when providing results for a pending tool call from the agent. The tool_call_id must match the ID from the agent's tool call request."""

    kind: InvokeAgentPublicMessagePartKind

    tool_call_id: str

    result: Optional[Any] = None

    metadata: Optional[Dict[str, Any]] = None


PublicMessagePartKind = Literal["file",]


class FileInURIFormatTypedDict(TypedDict):
    r"""File in URI format. Check in the model's documentation for the supported mime types for the URI format"""

    uri: str
    r"""URL for the File content"""
    mime_type: NotRequired[str]
    r"""Optional mimeType for the file"""
    name: NotRequired[str]
    r"""Optional name for the file"""


class FileInURIFormat(BaseModel):
    r"""File in URI format. Check in the model's documentation for the supported mime types for the URI format"""

    uri: str
    r"""URL for the File content"""

    mime_type: Annotated[Optional[str], pydantic.Field(alias="mimeType")] = None
    r"""Optional mimeType for the file"""

    name: Optional[str] = None
    r"""Optional name for the file"""


class BinaryFormatTypedDict(TypedDict):
    r"""Binary in base64 format. Check in the model's documentation for the supported mime types for the binary format."""

    bytes_: str
    r"""base64 encoded content of the file"""
    mime_type: NotRequired[str]
    r"""Optional mimeType for the file"""
    name: NotRequired[str]
    r"""Optional name for the file"""


class BinaryFormat(BaseModel):
    r"""Binary in base64 format. Check in the model's documentation for the supported mime types for the binary format."""

    bytes_: Annotated[str, pydantic.Field(alias="bytes")]
    r"""base64 encoded content of the file"""

    mime_type: Annotated[Optional[str], pydantic.Field(alias="mimeType")] = None
    r"""Optional mimeType for the file"""

    name: Optional[str] = None
    r"""Optional name for the file"""


PublicMessagePartFileTypedDict = TypeAliasType(
    "PublicMessagePartFileTypedDict",
    Union[BinaryFormatTypedDict, FileInURIFormatTypedDict],
)


PublicMessagePartFile = TypeAliasType(
    "PublicMessagePartFile", Union[BinaryFormat, FileInURIFormat]
)


class FilePartTypedDict(TypedDict):
    r"""File attachment part. Use this to send files (images, documents, etc.) to the agent for processing."""

    kind: PublicMessagePartKind
    file: PublicMessagePartFileTypedDict
    metadata: NotRequired[Dict[str, Any]]


class FilePart(BaseModel):
    r"""File attachment part. Use this to send files (images, documents, etc.) to the agent for processing."""

    kind: PublicMessagePartKind

    file: PublicMessagePartFile

    metadata: Optional[Dict[str, Any]] = None


Kind = Literal["text",]


class TextPartTypedDict(TypedDict):
    r"""Text content part. Use this to send text messages to the agent."""

    kind: Kind
    text: str


class TextPart(BaseModel):
    r"""Text content part. Use this to send text messages to the agent."""

    kind: Kind

    text: str


PublicMessagePartTypedDict = TypeAliasType(
    "PublicMessagePartTypedDict",
    Union[TextPartTypedDict, FilePartTypedDict, ToolResultPartTypedDict],
)
r"""Message part that can be provided by users. Use \"text\" for regular messages, \"file\" for attachments, or \"tool_result\" when responding to tool call requests."""


PublicMessagePart = TypeAliasType(
    "PublicMessagePart", Union[TextPart, FilePart, ToolResultPart]
)
r"""Message part that can be provided by users. Use \"text\" for regular messages, \"file\" for attachments, or \"tool_result\" when responding to tool call requests."""


class A2AMessageTypedDict(TypedDict):
    r"""The A2A message to send to the agent (user input or tool results)"""

    role: InvokeAgentRoleTypedDict
    r"""Message role (user or tool for continuing executions)"""
    parts: List[PublicMessagePartTypedDict]
    r"""A2A message parts (text, file, or tool_result only)"""
    message_id: NotRequired[str]
    r"""Optional A2A message ID in ULID format"""


class A2AMessage(BaseModel):
    r"""The A2A message to send to the agent (user input or tool results)"""

    role: InvokeAgentRole
    r"""Message role (user or tool for continuing executions)"""

    parts: List[PublicMessagePart]
    r"""A2A message parts (text, file, or tool_result only)"""

    message_id: Annotated[Optional[str], pydantic.Field(alias="messageId")] = None
    r"""Optional A2A message ID in ULID format"""


class ContactTypedDict(TypedDict):
    r"""Information about the contact making the request. If the contact does not exist, it will be created automatically."""

    id: str
    r"""Unique identifier for the contact"""
    display_name: NotRequired[str]
    r"""Display name of the contact"""
    email: NotRequired[str]
    r"""Email address of the contact"""
    metadata: NotRequired[List[Dict[str, Any]]]
    r"""A hash of key/value pairs containing any other data about the contact"""
    logo_url: NotRequired[str]
    r"""URL to the contact's avatar or logo"""
    tags: NotRequired[List[str]]
    r"""A list of tags associated with the contact"""


class Contact(BaseModel):
    r"""Information about the contact making the request. If the contact does not exist, it will be created automatically."""

    id: str
    r"""Unique identifier for the contact"""

    display_name: Optional[str] = None
    r"""Display name of the contact"""

    email: Optional[str] = None
    r"""Email address of the contact"""

    metadata: Optional[List[Dict[str, Any]]] = None
    r"""A hash of key/value pairs containing any other data about the contact"""

    logo_url: Optional[str] = None
    r"""URL to the contact's avatar or logo"""

    tags: Optional[List[str]] = None
    r"""A list of tags associated with the contact"""


class InvokeAgentThreadTypedDict(TypedDict):
    r"""Thread information to group related requests"""

    id: str
    r"""Unique thread identifier to group related invocations."""
    tags: NotRequired[List[str]]
    r"""Optional tags to differentiate or categorize threads"""


class InvokeAgentThread(BaseModel):
    r"""Thread information to group related requests"""

    id: str
    r"""Unique thread identifier to group related invocations."""

    tags: Optional[List[str]] = None
    r"""Optional tags to differentiate or categorize threads"""


class MemoryTypedDict(TypedDict):
    r"""Memory configuration for the agent execution. Used to associate memory stores with specific entities like users or sessions."""

    entity_id: str
    r"""An entity ID used to link memory stores to a specific user, session, or conversation. This ID is used to isolate and retrieve memories specific to the entity across agent executions."""


class Memory(BaseModel):
    r"""Memory configuration for the agent execution. Used to associate memory stores with specific entities like users or sessions."""

    entity_id: str
    r"""An entity ID used to link memory stores to a specific user, session, or conversation. This ID is used to isolate and retrieve memories specific to the entity across agent executions."""


class InvokeAgentRequestBodyTypedDict(TypedDict):
    message: A2AMessageTypedDict
    r"""The A2A message to send to the agent (user input or tool results)"""
    task_id: NotRequired[str]
    r"""Optional task ID to continue an existing agent execution. When provided, the agent will continue the conversation from the existing task state. The task must be in an inactive state to continue."""
    variables: NotRequired[Dict[str, Any]]
    r"""Optional variables for template replacement in system prompt, instructions, and messages"""
    contact: NotRequired[ContactTypedDict]
    r"""Information about the contact making the request. If the contact does not exist, it will be created automatically."""
    thread: NotRequired[InvokeAgentThreadTypedDict]
    r"""Thread information to group related requests"""
    memory: NotRequired[MemoryTypedDict]
    r"""Memory configuration for the agent execution. Used to associate memory stores with specific entities like users or sessions."""
    metadata: NotRequired[Dict[str, Any]]
    r"""Optional metadata for the agent invocation as key-value pairs that will be included in traces"""


class InvokeAgentRequestBody(BaseModel):
    message: A2AMessage
    r"""The A2A message to send to the agent (user input or tool results)"""

    task_id: Optional[str] = None
    r"""Optional task ID to continue an existing agent execution. When provided, the agent will continue the conversation from the existing task state. The task must be in an inactive state to continue."""

    variables: Optional[Dict[str, Any]] = None
    r"""Optional variables for template replacement in system prompt, instructions, and messages"""

    contact: Optional[Contact] = None
    r"""Information about the contact making the request. If the contact does not exist, it will be created automatically."""

    thread: Optional[InvokeAgentThread] = None
    r"""Thread information to group related requests"""

    memory: Optional[Memory] = None
    r"""Memory configuration for the agent execution. Used to associate memory stores with specific entities like users or sessions."""

    metadata: Optional[Dict[str, Any]] = None
    r"""Optional metadata for the agent invocation as key-value pairs that will be included in traces"""


class InvokeAgentRequestTypedDict(TypedDict):
    key: str
    r"""The key or ID of the agent to invoke"""
    request_body: NotRequired[InvokeAgentRequestBodyTypedDict]


class InvokeAgentRequest(BaseModel):
    key: Annotated[
        str, FieldMetadata(path=PathParamMetadata(style="simple", explode=False))
    ]
    r"""The key or ID of the agent to invoke"""

    request_body: Annotated[
        Optional[InvokeAgentRequestBody],
        FieldMetadata(request=RequestMetadata(media_type="application/json")),
    ] = None


InvokeAgentKind = Literal["task",]
r"""A2A entity type identifier"""


TaskState = Literal[
    "submitted",
    "working",
    "input-required",
    "auth-required",
    "completed",
    "failed",
    "canceled",
    "rejected",
]
r"""Current state of the agent task execution. Values: submitted (queued), working (executing), input-required (awaiting user input), completed (finished successfully), failed (error occurred). Note: auth-required, canceled, and rejected statuses are defined for A2A protocol compatibility but are not currently supported in task execution."""


InvokeAgentAgentsKind = Literal["message",]


InvokeAgentExtendedMessageRole = Literal[
    "user",
    "agent",
    "tool",
    "system",
]
r"""Role of the message sender in the A2A protocol. Values: user (end user), agent (AI agent), tool (tool execution result), system (system instructions/prompts)."""


InvokeAgentPartsAgentsResponse200Kind = Literal["tool_result",]


class InvokeAgentPartsToolResultPartTypedDict(TypedDict):
    r"""The result of a tool execution. Contains the tool call ID for correlation and the result data from the tool invocation."""

    kind: InvokeAgentPartsAgentsResponse200Kind
    tool_call_id: str
    result: NotRequired[Any]
    metadata: NotRequired[Dict[str, Any]]


class InvokeAgentPartsToolResultPart(BaseModel):
    r"""The result of a tool execution. Contains the tool call ID for correlation and the result data from the tool invocation."""

    kind: InvokeAgentPartsAgentsResponse200Kind

    tool_call_id: str

    result: Optional[Any] = None

    metadata: Optional[Dict[str, Any]] = None


InvokeAgentPartsAgentsResponseKind = Literal["tool_call",]


class InvokeAgentPartsToolCallPartTypedDict(TypedDict):
    r"""A tool invocation request from an agent. Contains the tool name, unique call ID, and arguments for the tool execution."""

    kind: InvokeAgentPartsAgentsResponseKind
    tool_name: str
    tool_call_id: str
    arguments: Dict[str, Any]
    metadata: NotRequired[Dict[str, Any]]


class InvokeAgentPartsToolCallPart(BaseModel):
    r"""A tool invocation request from an agent. Contains the tool name, unique call ID, and arguments for the tool execution."""

    kind: InvokeAgentPartsAgentsResponseKind

    tool_name: str

    tool_call_id: str

    arguments: Dict[str, Any]

    metadata: Optional[Dict[str, Any]] = None


InvokeAgentPartsAgentsKind = Literal["file",]


class InvokeAgentFileFileInURIFormatTypedDict(TypedDict):
    r"""File in URI format. Check in the model's documentation for the supported mime types for the URI format"""

    uri: str
    r"""URL for the File content"""
    mime_type: NotRequired[str]
    r"""Optional mimeType for the file"""
    name: NotRequired[str]
    r"""Optional name for the file"""


class InvokeAgentFileFileInURIFormat(BaseModel):
    r"""File in URI format. Check in the model's documentation for the supported mime types for the URI format"""

    uri: str
    r"""URL for the File content"""

    mime_type: Annotated[Optional[str], pydantic.Field(alias="mimeType")] = None
    r"""Optional mimeType for the file"""

    name: Optional[str] = None
    r"""Optional name for the file"""


class InvokeAgentFileBinaryFormatTypedDict(TypedDict):
    r"""Binary in base64 format. Check in the model's documentation for the supported mime types for the binary format."""

    bytes_: str
    r"""base64 encoded content of the file"""
    mime_type: NotRequired[str]
    r"""Optional mimeType for the file"""
    name: NotRequired[str]
    r"""Optional name for the file"""


class InvokeAgentFileBinaryFormat(BaseModel):
    r"""Binary in base64 format. Check in the model's documentation for the supported mime types for the binary format."""

    bytes_: Annotated[str, pydantic.Field(alias="bytes")]
    r"""base64 encoded content of the file"""

    mime_type: Annotated[Optional[str], pydantic.Field(alias="mimeType")] = None
    r"""Optional mimeType for the file"""

    name: Optional[str] = None
    r"""Optional name for the file"""


InvokeAgentPartsFileTypedDict = TypeAliasType(
    "InvokeAgentPartsFileTypedDict",
    Union[
        InvokeAgentFileBinaryFormatTypedDict, InvokeAgentFileFileInURIFormatTypedDict
    ],
)


InvokeAgentPartsFile = TypeAliasType(
    "InvokeAgentPartsFile",
    Union[InvokeAgentFileBinaryFormat, InvokeAgentFileFileInURIFormat],
)


class InvokeAgentPartsFilePartTypedDict(TypedDict):
    r"""A file content part that can contain either base64-encoded bytes or a URI reference. Used for images, documents, and other binary content in agent communications."""

    kind: InvokeAgentPartsAgentsKind
    file: InvokeAgentPartsFileTypedDict
    metadata: NotRequired[Dict[str, Any]]


class InvokeAgentPartsFilePart(BaseModel):
    r"""A file content part that can contain either base64-encoded bytes or a URI reference. Used for images, documents, and other binary content in agent communications."""

    kind: InvokeAgentPartsAgentsKind

    file: InvokeAgentPartsFile

    metadata: Optional[Dict[str, Any]] = None


InvokeAgentPartsKind = Literal["data",]


class InvokeAgentPartsDataPartTypedDict(TypedDict):
    r"""A structured data part containing JSON-serializable key-value pairs. Used for passing structured information between agents and tools."""

    kind: InvokeAgentPartsKind
    data: Dict[str, Any]
    metadata: NotRequired[Dict[str, Any]]


class InvokeAgentPartsDataPart(BaseModel):
    r"""A structured data part containing JSON-serializable key-value pairs. Used for passing structured information between agents and tools."""

    kind: InvokeAgentPartsKind

    data: Dict[str, Any]

    metadata: Optional[Dict[str, Any]] = None


InvokeAgentPartsAgentsResponse200ApplicationJSONKind = Literal["text",]


class InvokeAgentPartsTextPartTypedDict(TypedDict):
    r"""A text content part containing plain text or markdown. Used for agent messages, user input, and text-based responses."""

    kind: InvokeAgentPartsAgentsResponse200ApplicationJSONKind
    text: str


class InvokeAgentPartsTextPart(BaseModel):
    r"""A text content part containing plain text or markdown. Used for agent messages, user input, and text-based responses."""

    kind: InvokeAgentPartsAgentsResponse200ApplicationJSONKind

    text: str


InvokeAgentPartsTypedDict = TypeAliasType(
    "InvokeAgentPartsTypedDict",
    Union[
        InvokeAgentPartsTextPartTypedDict,
        InvokeAgentPartsDataPartTypedDict,
        InvokeAgentPartsFilePartTypedDict,
        InvokeAgentPartsToolResultPartTypedDict,
        InvokeAgentPartsToolCallPartTypedDict,
    ],
)


InvokeAgentParts = TypeAliasType(
    "InvokeAgentParts",
    Union[
        InvokeAgentPartsTextPart,
        InvokeAgentPartsDataPart,
        InvokeAgentPartsFilePart,
        InvokeAgentPartsToolResultPart,
        InvokeAgentPartsToolCallPart,
    ],
)


class TaskStatusMessageTypedDict(TypedDict):
    r"""Optional A2A message providing additional context about the current status"""

    kind: InvokeAgentAgentsKind
    message_id: str
    role: InvokeAgentExtendedMessageRole
    r"""Role of the message sender in the A2A protocol. Values: user (end user), agent (AI agent), tool (tool execution result), system (system instructions/prompts)."""
    parts: List[InvokeAgentPartsTypedDict]


class TaskStatusMessage(BaseModel):
    r"""Optional A2A message providing additional context about the current status"""

    kind: InvokeAgentAgentsKind

    message_id: Annotated[str, pydantic.Field(alias="messageId")]

    role: InvokeAgentExtendedMessageRole
    r"""Role of the message sender in the A2A protocol. Values: user (end user), agent (AI agent), tool (tool execution result), system (system instructions/prompts)."""

    parts: List[InvokeAgentParts]


class TaskStatusTypedDict(TypedDict):
    r"""Current task status information"""

    state: TaskState
    r"""Current state of the agent task execution. Values: submitted (queued), working (executing), input-required (awaiting user input), completed (finished successfully), failed (error occurred). Note: auth-required, canceled, and rejected statuses are defined for A2A protocol compatibility but are not currently supported in task execution."""
    timestamp: NotRequired[str]
    r"""ISO 8601 timestamp of when the status was updated"""
    message: NotRequired[TaskStatusMessageTypedDict]
    r"""Optional A2A message providing additional context about the current status"""


class TaskStatus(BaseModel):
    r"""Current task status information"""

    state: TaskState
    r"""Current state of the agent task execution. Values: submitted (queued), working (executing), input-required (awaiting user input), completed (finished successfully), failed (error occurred). Note: auth-required, canceled, and rejected statuses are defined for A2A protocol compatibility but are not currently supported in task execution."""

    timestamp: Optional[str] = None
    r"""ISO 8601 timestamp of when the status was updated"""

    message: Optional[TaskStatusMessage] = None
    r"""Optional A2A message providing additional context about the current status"""


class InvokeAgentA2ATaskResponseTypedDict(TypedDict):
    r"""Response format following the Agent-to-Agent (A2A) protocol. Returned when starting or continuing an agent task execution."""

    id: str
    r"""The unique ID of the created agent execution task"""
    context_id: str
    r"""The correlation ID for this execution (used for tracking)"""
    kind: InvokeAgentKind
    r"""A2A entity type identifier"""
    status: TaskStatusTypedDict
    r"""Current task status information"""
    metadata: NotRequired[Dict[str, Any]]
    r"""Task metadata containing workspace_id and trace_id for feedback and tracking"""


class InvokeAgentA2ATaskResponse(BaseModel):
    r"""Response format following the Agent-to-Agent (A2A) protocol. Returned when starting or continuing an agent task execution."""

    id: str
    r"""The unique ID of the created agent execution task"""

    context_id: Annotated[str, pydantic.Field(alias="contextId")]
    r"""The correlation ID for this execution (used for tracking)"""

    kind: InvokeAgentKind
    r"""A2A entity type identifier"""

    status: TaskStatus
    r"""Current task status information"""

    metadata: Optional[Dict[str, Any]] = None
    r"""Task metadata containing workspace_id and trace_id for feedback and tracking"""
