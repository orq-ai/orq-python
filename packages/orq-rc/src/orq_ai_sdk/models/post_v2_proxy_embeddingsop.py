"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .publiccontact import PublicContact, PublicContactTypedDict
from orq_ai_sdk.types import BaseModel
from typing import List, Literal, Optional, Union
from typing_extensions import NotRequired, TypeAliasType, TypedDict


PostV2ProxyEmbeddingsInputTypedDict = TypeAliasType(
    "PostV2ProxyEmbeddingsInputTypedDict", Union[str, List[str]]
)
r"""Input text to embed, encoded as a string or array of tokens."""


PostV2ProxyEmbeddingsInput = TypeAliasType(
    "PostV2ProxyEmbeddingsInput", Union[str, List[str]]
)
r"""Input text to embed, encoded as a string or array of tokens."""


PostV2ProxyEmbeddingsEncodingFormat = Literal["base64", "float"]
r"""Type of the document element"""


class PostV2ProxyEmbeddingsFallbacksTypedDict(TypedDict):
    model: str
    r"""Fallback model identifier"""


class PostV2ProxyEmbeddingsFallbacks(BaseModel):
    model: str
    r"""Fallback model identifier"""


PostV2ProxyEmbeddingsType = Literal["exact_match"]


class PostV2ProxyEmbeddingsCacheTypedDict(TypedDict):
    r"""Cache configuration for the request."""

    type: PostV2ProxyEmbeddingsType
    ttl: NotRequired[float]
    r"""Time to live for cached responses in seconds. Maximum 259200 seconds (3 days)."""


class PostV2ProxyEmbeddingsCache(BaseModel):
    r"""Cache configuration for the request."""

    type: PostV2ProxyEmbeddingsType

    ttl: Optional[float] = 1800
    r"""Time to live for cached responses in seconds. Maximum 259200 seconds (3 days)."""


class PostV2ProxyEmbeddingsRetryTypedDict(TypedDict):
    r"""Retry configuration for the request"""

    count: NotRequired[float]
    r"""Number of retry attempts (1-5)"""
    on_codes: NotRequired[List[float]]
    r"""HTTP status codes that trigger retry logic"""


class PostV2ProxyEmbeddingsRetry(BaseModel):
    r"""Retry configuration for the request"""

    count: Optional[float] = 3
    r"""Number of retry attempts (1-5)"""

    on_codes: Optional[List[float]] = None
    r"""HTTP status codes that trigger retry logic"""


class PostV2ProxyEmbeddingsOrqTypedDict(TypedDict):
    name: NotRequired[str]
    r"""The name to display on the trace. If not specified, the default system name will be used."""
    fallbacks: NotRequired[List[PostV2ProxyEmbeddingsFallbacksTypedDict]]
    r"""Array of fallback models to use if primary model fails"""
    cache: NotRequired[PostV2ProxyEmbeddingsCacheTypedDict]
    r"""Cache configuration for the request."""
    retry: NotRequired[PostV2ProxyEmbeddingsRetryTypedDict]
    r"""Retry configuration for the request"""
    contact: NotRequired[PublicContactTypedDict]
    r"""Information about the contact making the request. If the contact does not exist, it will be created automatically."""


class PostV2ProxyEmbeddingsOrq(BaseModel):
    name: Optional[str] = None
    r"""The name to display on the trace. If not specified, the default system name will be used."""

    fallbacks: Optional[List[PostV2ProxyEmbeddingsFallbacks]] = None
    r"""Array of fallback models to use if primary model fails"""

    cache: Optional[PostV2ProxyEmbeddingsCache] = None
    r"""Cache configuration for the request."""

    retry: Optional[PostV2ProxyEmbeddingsRetry] = None
    r"""Retry configuration for the request"""

    contact: Optional[PublicContact] = None
    r"""Information about the contact making the request. If the contact does not exist, it will be created automatically."""


class PostV2ProxyEmbeddingsRequestBodyTypedDict(TypedDict):
    r"""input"""

    input: PostV2ProxyEmbeddingsInputTypedDict
    r"""Input text to embed, encoded as a string or array of tokens."""
    model: str
    r"""ID of the model to use"""
    encoding_format: NotRequired[PostV2ProxyEmbeddingsEncodingFormat]
    r"""Type of the document element"""
    dimensions: NotRequired[float]
    r"""The number of dimensions the resulting output embeddings should have."""
    user: NotRequired[str]
    r"""A unique identifier representing your end-user"""
    orq: NotRequired[PostV2ProxyEmbeddingsOrqTypedDict]


class PostV2ProxyEmbeddingsRequestBody(BaseModel):
    r"""input"""

    input: PostV2ProxyEmbeddingsInput
    r"""Input text to embed, encoded as a string or array of tokens."""

    model: str
    r"""ID of the model to use"""

    encoding_format: Optional[PostV2ProxyEmbeddingsEncodingFormat] = "float"
    r"""Type of the document element"""

    dimensions: Optional[float] = None
    r"""The number of dimensions the resulting output embeddings should have."""

    user: Optional[str] = None
    r"""A unique identifier representing your end-user"""

    orq: Optional[PostV2ProxyEmbeddingsOrq] = None


PostV2ProxyEmbeddingsObject = Literal["list"]

PostV2ProxyEmbeddingsProxyObject = Literal["embedding"]
r"""The object type, which is always `embedding`."""

EmbeddingTypedDict = TypeAliasType("EmbeddingTypedDict", Union[List[float], str])
r"""The embedding vector, which is a list of floats. The length of vector depends on the model."""


Embedding = TypeAliasType("Embedding", Union[List[float], str])
r"""The embedding vector, which is a list of floats. The length of vector depends on the model."""


class PostV2ProxyEmbeddingsDataTypedDict(TypedDict):
    object: PostV2ProxyEmbeddingsProxyObject
    r"""The object type, which is always `embedding`."""
    embedding: EmbeddingTypedDict
    r"""The embedding vector, which is a list of floats. The length of vector depends on the model."""
    index: float
    r"""The index of the embedding in the list of embeddings."""


class PostV2ProxyEmbeddingsData(BaseModel):
    object: PostV2ProxyEmbeddingsProxyObject
    r"""The object type, which is always `embedding`."""

    embedding: Embedding
    r"""The embedding vector, which is a list of floats. The length of vector depends on the model."""

    index: float
    r"""The index of the embedding in the list of embeddings."""


class PostV2ProxyEmbeddingsUsageTypedDict(TypedDict):
    prompt_tokens: float
    total_tokens: float


class PostV2ProxyEmbeddingsUsage(BaseModel):
    prompt_tokens: float

    total_tokens: float


class PostV2ProxyEmbeddingsResponseBodyTypedDict(TypedDict):
    r"""Returns the embedding vector."""

    object: PostV2ProxyEmbeddingsObject
    data: List[PostV2ProxyEmbeddingsDataTypedDict]
    model: str
    r"""ID of the model to used."""
    usage: NotRequired[PostV2ProxyEmbeddingsUsageTypedDict]


class PostV2ProxyEmbeddingsResponseBody(BaseModel):
    r"""Returns the embedding vector."""

    object: PostV2ProxyEmbeddingsObject

    data: List[PostV2ProxyEmbeddingsData]

    model: str
    r"""ID of the model to used."""

    usage: Optional[PostV2ProxyEmbeddingsUsage] = None
