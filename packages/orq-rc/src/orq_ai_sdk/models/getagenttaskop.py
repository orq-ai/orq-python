"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from dataclasses import dataclass, field
import httpx
from orq_ai_sdk.models import OrqError
from orq_ai_sdk.types import BaseModel
from orq_ai_sdk.utils import FieldMetadata, PathParamMetadata
import pydantic
from typing import Any, Dict, List, Literal, Optional, Union
from typing_extensions import Annotated, NotRequired, TypeAliasType, TypedDict


class GetAgentTaskRequestTypedDict(TypedDict):
    agent_key: str
    task_id: str


class GetAgentTaskRequest(BaseModel):
    agent_key: Annotated[
        str, FieldMetadata(path=PathParamMetadata(style="simple", explode=False))
    ]

    task_id: Annotated[
        str, FieldMetadata(path=PathParamMetadata(style="simple", explode=False))
    ]


class GetAgentTaskAgentsResponseBodyData(BaseModel):
    message: str


@dataclass(unsafe_hash=True)
class GetAgentTaskAgentsResponseBody(OrqError):
    r"""Agent task not found"""

    data: GetAgentTaskAgentsResponseBodyData = field(hash=False)

    def __init__(
        self,
        data: GetAgentTaskAgentsResponseBodyData,
        raw_response: httpx.Response,
        body: Optional[str] = None,
    ):
        fallback = body or raw_response.text
        message = str(data.message) or fallback
        super().__init__(message, raw_response, body)
        object.__setattr__(self, "data", data)


GetAgentTaskKind = Literal["task",]


class GetAgentTaskStatusTypedDict(TypedDict):
    state: str
    timestamp: NotRequired[str]
    message: NotRequired[Any]


class GetAgentTaskStatus(BaseModel):
    state: str

    timestamp: Optional[str] = None

    message: Optional[Any] = None


GetAgentTaskAgentsResponseKind = Literal["message",]


GetAgentTaskRole = Literal[
    "user",
    "agent",
    "tool",
    "system",
]
r"""Extended A2A message role"""


GetAgentTaskPartsAgentsResponse200Kind = Literal["tool_result",]


class Parts5TypedDict(TypedDict):
    kind: GetAgentTaskPartsAgentsResponse200Kind
    tool_call_id: str
    result: NotRequired[Any]
    metadata: NotRequired[Dict[str, Any]]


class Parts5(BaseModel):
    kind: GetAgentTaskPartsAgentsResponse200Kind

    tool_call_id: str

    result: Optional[Any] = None

    metadata: Optional[Dict[str, Any]] = None


GetAgentTaskPartsAgentsResponseKind = Literal["tool_call",]


class Parts4TypedDict(TypedDict):
    kind: GetAgentTaskPartsAgentsResponseKind
    tool_name: str
    tool_call_id: str
    arguments: Dict[str, Any]
    metadata: NotRequired[Dict[str, Any]]


class Parts4(BaseModel):
    kind: GetAgentTaskPartsAgentsResponseKind

    tool_name: str

    tool_call_id: str

    arguments: Dict[str, Any]

    metadata: Optional[Dict[str, Any]] = None


GetAgentTaskPartsAgentsKind = Literal["file",]


class GetAgentTaskFileFileInURIFormatTypedDict(TypedDict):
    r"""File in URI format. Check in the model's documentation for the supported mime types for the URI format"""

    uri: str
    r"""URL for the File content"""
    mime_type: NotRequired[str]
    r"""Optional mimeType for the file"""
    name: NotRequired[str]
    r"""Optional name for the file"""


class GetAgentTaskFileFileInURIFormat(BaseModel):
    r"""File in URI format. Check in the model's documentation for the supported mime types for the URI format"""

    uri: str
    r"""URL for the File content"""

    mime_type: Annotated[Optional[str], pydantic.Field(alias="mimeType")] = None
    r"""Optional mimeType for the file"""

    name: Optional[str] = None
    r"""Optional name for the file"""


class GetAgentTaskFileBinaryFormatTypedDict(TypedDict):
    r"""Binary in base64 format. Check in the model's documentation for the supported mime types for the binary format."""

    bytes_: str
    r"""base64 encoded content of the file"""
    mime_type: NotRequired[str]
    r"""Optional mimeType for the file"""
    name: NotRequired[str]
    r"""Optional name for the file"""


class GetAgentTaskFileBinaryFormat(BaseModel):
    r"""Binary in base64 format. Check in the model's documentation for the supported mime types for the binary format."""

    bytes_: Annotated[str, pydantic.Field(alias="bytes")]
    r"""base64 encoded content of the file"""

    mime_type: Annotated[Optional[str], pydantic.Field(alias="mimeType")] = None
    r"""Optional mimeType for the file"""

    name: Optional[str] = None
    r"""Optional name for the file"""


PartsFileTypedDict = TypeAliasType(
    "PartsFileTypedDict",
    Union[
        GetAgentTaskFileBinaryFormatTypedDict, GetAgentTaskFileFileInURIFormatTypedDict
    ],
)


PartsFile = TypeAliasType(
    "PartsFile", Union[GetAgentTaskFileBinaryFormat, GetAgentTaskFileFileInURIFormat]
)


class Parts3TypedDict(TypedDict):
    kind: GetAgentTaskPartsAgentsKind
    file: PartsFileTypedDict
    metadata: NotRequired[Dict[str, Any]]


class Parts3(BaseModel):
    kind: GetAgentTaskPartsAgentsKind

    file: PartsFile

    metadata: Optional[Dict[str, Any]] = None


GetAgentTaskPartsKind = Literal["data",]


class Parts2TypedDict(TypedDict):
    kind: GetAgentTaskPartsKind
    data: Dict[str, Any]
    metadata: NotRequired[Dict[str, Any]]


class Parts2(BaseModel):
    kind: GetAgentTaskPartsKind

    data: Dict[str, Any]

    metadata: Optional[Dict[str, Any]] = None


PartsKind = Literal["text",]


class Parts1TypedDict(TypedDict):
    kind: PartsKind
    text: str


class Parts1(BaseModel):
    kind: PartsKind

    text: str


PartsTypedDict = TypeAliasType(
    "PartsTypedDict",
    Union[
        Parts1TypedDict,
        Parts2TypedDict,
        Parts3TypedDict,
        Parts5TypedDict,
        Parts4TypedDict,
    ],
)


Parts = TypeAliasType("Parts", Union[Parts1, Parts2, Parts3, Parts5, Parts4])


class HistoryTypedDict(TypedDict):
    kind: GetAgentTaskAgentsResponseKind
    message_id: str
    role: GetAgentTaskRole
    r"""Extended A2A message role"""
    parts: List[PartsTypedDict]
    task_id: NotRequired[str]
    context_id: NotRequired[str]
    metadata: NotRequired[Dict[str, Any]]


class History(BaseModel):
    kind: GetAgentTaskAgentsResponseKind

    message_id: Annotated[str, pydantic.Field(alias="messageId")]

    role: GetAgentTaskRole
    r"""Extended A2A message role"""

    parts: List[Parts]

    task_id: Annotated[Optional[str], pydantic.Field(alias="taskId")] = None

    context_id: Annotated[Optional[str], pydantic.Field(alias="contextId")] = None

    metadata: Optional[Dict[str, Any]] = None


GetAgentTaskAgentsKind = Literal["artifact",]


class ArtifactsTypedDict(TypedDict):
    kind: GetAgentTaskAgentsKind
    artifact_id: str
    name: str
    type: str
    url: NotRequired[str]
    data: NotRequired[Any]


class Artifacts(BaseModel):
    kind: GetAgentTaskAgentsKind

    artifact_id: Annotated[str, pydantic.Field(alias="artifactId")]

    name: str

    type: str

    url: Optional[str] = None

    data: Optional[Any] = None


class GetAgentTaskResponseBodyTypedDict(TypedDict):
    r"""Agent task retrieved"""

    id: str
    context_id: str
    kind: GetAgentTaskKind
    status: GetAgentTaskStatusTypedDict
    history: List[HistoryTypedDict]
    artifacts: NotRequired[List[ArtifactsTypedDict]]
    metadata: NotRequired[Dict[str, Any]]


class GetAgentTaskResponseBody(BaseModel):
    r"""Agent task retrieved"""

    id: str

    context_id: Annotated[str, pydantic.Field(alias="contextId")]

    kind: GetAgentTaskKind

    status: GetAgentTaskStatus

    history: List[History]

    artifacts: Optional[List[Artifacts]] = None

    metadata: Optional[Dict[str, Any]] = None
